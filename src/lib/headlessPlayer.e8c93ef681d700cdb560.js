/*! For license information please see headlessPlayer.e8c93ef681d700cdb560.js.LICENSE.txt */
(()=>{var e={5356:(e,t,n)=>{var r=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],o=[225,556,441,341],a=n(6174);e.exports=function(e){var t=e.createGain();t.channelCountMode="explicit",t.channelCount=2;var n=e.createGain(),i=e.createChannelMerger(2),s=e.createChannelSplitter(2),l=e.createBiquadFilter();l.type="highpass",l.frequency.value=200;var u=e.createGain(),c=e.createGain();t.connect(c),t.connect(u),u.connect(s),i.connect(l),l.connect(n),c.connect(n);for(var d=[],f=[],p=[],m=.8,h=3e3,y=0;y<o.length;y++){var v=e.createBiquadFilter();v.type="allpass",v.frequency.value=o[y],f.push(v),f[y-1]&&f[y-1].connect(v)}for(var g=0;g<o.length;g++){var b=e.createBiquadFilter();b.type="allpass",b.frequency.value=o[g],p.push(b),p[g-1]&&p[g-1].connect(b)}f[f.length-1].connect(i,0,0),p[p.length-1].connect(i,0,1);for(var w=0;w<r.length;w++){var x=a(e);x.delayTime.value=r[w],w<r.length/2?(s.connect(x,0),x.connect(f[0])):(s.connect(x,1),x.connect(p[0])),d.push(x)}return Object.defineProperties(t,{roomSize:{get:function(){return m},set:function(e){m=e,S()}},dampening:{get:function(){return h},set:function(e){h=e,S()}}}),S(),t.connect=n.connect.bind(n),t.disconnect=n.disconnect.bind(n),t.wet=u.gain,t.dry=c.gain,t.combFilters=d,t;function S(){for(var e=0;e<d.length;e++)d[e].resonance.value=m,d[e].dampening.value=h}}},6174:e=>{e.exports=function(e){var t=e.createDelay(1),n=e.createBiquadFilter();n.Q.value=-3.0102999566398125,n.type="lowpass",t.dampening=n.frequency;var r=e.createGain();return t.resonance=r.gain,t.connect(n),n.connect(r),r.connect(t),t.dampening.value=3e3,t.delayTime.value=.1,t.resonance.value=.5,t}},1271:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(r,o){"use strict";var a=[],i=Object.getPrototypeOf,s=a.slice,l=a.flat?function(e){return a.flat.call(e)}:function(e){return a.concat.apply([],e)},u=a.push,c=a.indexOf,d={},f=d.toString,p=d.hasOwnProperty,m=p.toString,h=m.call(Object),y={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},g=function(e){return null!=e&&e===e.window},b=r.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,n){var r,o,a=(n=n||b).createElement("script");if(a.text=e,t)for(r in w)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&a.setAttribute(r,o);n.head.appendChild(a).parentNode.removeChild(a)}function S(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[f.call(e)]||"object":typeof e}var T="3.6.0",E=function(e,t){return new E.fn.init(e,t)};function C(e){var t=!!e&&"length"in e&&e.length,n=S(e);return!v(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}E.fn=E.prototype={jquery:T,constructor:E,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(E.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:a.sort,splice:a.splice},E.extend=E.fn.extend=function(){var e,t,n,r,o,a,i=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof i&&(u=i,i=arguments[s]||{},s++),"object"==typeof i||v(i)||(i={}),s===l&&(i=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&i!==r&&(u&&r&&(E.isPlainObject(r)||(o=Array.isArray(r)))?(n=i[t],a=o&&!Array.isArray(n)?[]:o||E.isPlainObject(n)?n:{},o=!1,i[t]=E.extend(u,a,r)):void 0!==r&&(i[t]=r));return i},E.extend({expando:"jQuery"+(T+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==f.call(e)||(t=i(e))&&("function"!=typeof(n=p.call(t,"constructor")&&t.constructor)||m.call(n)!==h))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){x(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(C(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?E.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,a=e.length,i=!n;o<a;o++)!t(e[o],o)!==i&&r.push(e[o]);return r},map:function(e,t,n){var r,o,a=0,i=[];if(C(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&i.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&i.push(o);return l(i)},guid:1,support:y}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=a[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var D=function(e){var t,n,r,o,a,i,s,l,u,c,d,f,p,m,h,y,v,g,b,w="sizzle"+1*new Date,x=e.document,S=0,T=0,E=le(),C=le(),D=le(),_=le(),k=function(e,t){return e===t&&(d=!0),0},N={}.hasOwnProperty,A=[],I=A.pop,L=A.push,j=A.push,R=A.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",q="\\[[\\x20\\t\\r\\n\\f]*("+F+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+O+"*\\]",$=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",z=new RegExp(O+"+","g"),V=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),B=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),G=new RegExp(O+"|>"),W=new RegExp($),U=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=function(){f()},ie=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{j.apply(A=R.call(x.childNodes),x.childNodes),A[x.childNodes.length].nodeType}catch(e){j={apply:A.length?function(e,t){L.apply(e,R.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,o){var a,s,u,c,d,m,v,g=t&&t.ownerDocument,x=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return r;if(!o&&(f(t),t=t||p,h)){if(11!==x&&(d=Z.exec(e)))if(a=d[1]){if(9===x){if(!(u=t.getElementById(a)))return r;if(u.id===a)return r.push(u),r}else if(g&&(u=g.getElementById(a))&&b(t,u)&&u.id===a)return r.push(u),r}else{if(d[2])return j.apply(r,t.getElementsByTagName(e)),r;if((a=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return j.apply(r,t.getElementsByClassName(a)),r}if(n.qsa&&!_[e+" "]&&(!y||!y.test(e))&&(1!==x||"object"!==t.nodeName.toLowerCase())){if(v=e,g=t,1===x&&(G.test(e)||B.test(e))){for((g=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((c=t.getAttribute("id"))?c=c.replace(re,oe):t.setAttribute("id",c=w)),s=(m=i(e)).length;s--;)m[s]=(c?"#"+c:":scope")+" "+be(m[s]);v=m.join(",")}try{return j.apply(r,g.querySelectorAll(v)),r}catch(t){_(e,!0)}finally{c===w&&t.removeAttribute("id")}}}return l(e.replace(V,"$1"),t,r,o)}function le(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ue(e){return e[w]=!0,e}function ce(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function me(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ye(e){return ue((function(t){return t=+t,ue((function(n,r){for(var o,a=e([],n.length,t),i=a.length;i--;)n[o=a[i]]&&(n[o]=!(r[o]=n[o]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},a=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Q.test(t||n&&n.nodeName||"HTML")},f=se.setDocument=function(e){var t,o,i=e?e.ownerDocument||e:x;return i!=p&&9===i.nodeType&&i.documentElement?(m=(p=i).documentElement,h=!a(p),x!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ae,!1):o.attachEvent&&o.attachEvent("onunload",ae)),n.scope=ce((function(e){return m.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ce((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Y.test(p.getElementsByClassName),n.getById=ce((function(e){return m.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n,r,o,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(o=t.getElementsByName(e),r=0;a=o[r++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[o++];)1===n.nodeType&&r.push(n);return r}return a},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},v=[],y=[],(n.qsa=Y.test(p.querySelectorAll))&&(ce((function(e){var t;m.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+M+")"),e.querySelectorAll("[id~="+w+"-]").length||y.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||y.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||y.push(".#.+[+~]"),e.querySelectorAll("\\\f"),y.push("[\\r\\n\\f]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),m.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")}))),(n.matchesSelector=Y.test(g=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&ce((function(e){n.disconnectedMatch=g.call(e,"*"),g.call(e,"[s!='']:x"),v.push("!=",$)})),y=y.length&&new RegExp(y.join("|")),v=v.length&&new RegExp(v.join("|")),t=Y.test(m.compareDocumentPosition),b=t||Y.test(m.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==p||e.ownerDocument==x&&b(x,e)?-1:t==p||t.ownerDocument==x&&b(x,t)?1:c?P(c,e)-P(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,o=e.parentNode,a=t.parentNode,i=[e],s=[t];if(!o||!a)return e==p?-1:t==p?1:o?-1:a?1:c?P(c,e)-P(c,t):0;if(o===a)return fe(e,t);for(n=e;n=n.parentNode;)i.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;i[r]===s[r];)r++;return r?fe(i[r],s[r]):i[r]==x?-1:s[r]==x?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&h&&!_[t+" "]&&(!v||!v.test(t))&&(!y||!y.test(t)))try{var r=g.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){_(t,!0)}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=p&&f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=p&&f(e);var o=r.attrHandle[t.toLowerCase()],a=o&&N.call(r.attrHandle,t.toLowerCase())?o(e,t,!h):void 0;return void 0!==a?a:n.attributes||!h?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},se.escape=function(e){return(e+"").replace(re,oe)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],o=0,a=0;if(d=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(k),d){for(;t=e[a++];)t===e[a]&&(o=r.push(a));for(;o--;)e.splice(r[o],1)}return c=null,e},o=se.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(r=se.selectors={cacheLength:50,createPseudo:ue,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=i(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+O+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=se.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(z," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var a="nth"!==e.slice(0,3),i="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,p,m,h=a!==i?"nextSibling":"previousSibling",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),g=!l&&!s,b=!1;if(y){if(a){for(;h;){for(f=t;f=f[h];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;m=h="only"===e&&!m&&"nextSibling"}return!0}if(m=[i?y.firstChild:y.lastChild],i&&g){for(b=(p=(u=(c=(d=(f=y)[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===S&&u[1])&&u[2],f=p&&y.childNodes[p];f=++p&&f&&f[h]||(b=p=0)||m.pop();)if(1===f.nodeType&&++b&&f===t){c[e]=[S,p,b];break}}else if(g&&(b=p=(u=(c=(d=(f=t)[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===S&&u[1]),!1===b)for(;(f=++p&&f&&f[h]||(b=p=0)||m.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(g&&((c=(d=f[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[S,b]),f!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return o[w]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,n){for(var r,a=o(e,t),i=a.length;i--;)e[r=P(e,a[i])]=!(n[r]=a[i])})):function(e){return o(e,0,n)}):o}},pseudos:{not:ue((function(e){var t=[],n=[],r=s(e.replace(V,"$1"));return r[w]?ue((function(e,t,n,o){for(var a,i=r(e,null,o,[]),s=e.length;s--;)(a=i[s])&&(e[s]=!(t[s]=a))})):function(e,o,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}})),has:ue((function(e){return function(t){return se(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||o(t)).indexOf(e)>-1}})),lang:ue((function(e){return U.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===m},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ye((function(){return[0]})),last:ye((function(e,t){return[t-1]})),eq:ye((function(e,t,n){return[n<0?n+t:n]})),even:ye((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ye((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ye((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ye((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=me(t);function ge(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,o=t.next,a=o||r,i=n&&"parentNode"===a,s=T++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o);return!1}:function(t,n,l){var u,c,d,f=[S,s];if(l){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(c=(d=t[w]||(t[w]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=c[a])&&u[0]===S&&u[1]===s)return f[2]=u[2];if(c[a]=f,f[2]=e(t,n,l))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function Se(e,t,n,r,o){for(var a,i=[],s=0,l=e.length,u=null!=t;s<l;s++)(a=e[s])&&(n&&!n(a,r,o)||(i.push(a),u&&t.push(s)));return i}function Te(e,t,n,r,o,a){return r&&!r[w]&&(r=Te(r)),o&&!o[w]&&(o=Te(o,a)),ue((function(a,i,s,l){var u,c,d,f=[],p=[],m=i.length,h=a||function(e,t,n){for(var r=0,o=t.length;r<o;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),y=!e||!a&&t?h:Se(h,f,e,s,l),v=n?o||(a?e:m||r)?[]:i:y;if(n&&n(y,v,s,l),r)for(u=Se(v,p),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(v[p[c]]=!(y[p[c]]=d));if(a){if(o||e){if(o){for(u=[],c=v.length;c--;)(d=v[c])&&u.push(y[c]=d);o(null,v=[],u,l)}for(c=v.length;c--;)(d=v[c])&&(u=o?P(a,d):f[c])>-1&&(a[u]=!(i[u]=d))}}else v=Se(v===i?v.splice(m,v.length):v),o?o(null,i,v,l):j.apply(i,v)}))}function Ee(e){for(var t,n,o,a=e.length,i=r.relative[e[0].type],s=i||r.relative[" "],l=i?1:0,c=we((function(e){return e===t}),s,!0),d=we((function(e){return P(t,e)>-1}),s,!0),f=[function(e,n,r){var o=!i&&(r||n!==u)||((t=n).nodeType?c(e,n,r):d(e,n,r));return t=null,o}];l<a;l++)if(n=r.relative[e[l].type])f=[we(xe(f),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[w]){for(o=++l;o<a&&!r.relative[e[o].type];o++);return Te(l>1&&xe(f),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(V,"$1"),n,l<o&&Ee(e.slice(l,o)),o<a&&Ee(e=e.slice(o)),o<a&&be(e))}f.push(n)}return xe(f)}return ge.prototype=r.filters=r.pseudos,r.setFilters=new ge,i=se.tokenize=function(e,t){var n,o,a,i,s,l,u,c=C[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=r.preFilter;s;){for(i in n&&!(o=H.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(a=[])),n=!1,(o=B.exec(s))&&(n=o.shift(),a.push({value:n,type:o[0].replace(V," ")}),s=s.slice(n.length)),r.filter)!(o=X[i].exec(s))||u[i]&&!(o=u[i](o))||(n=o.shift(),a.push({value:n,type:i,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):C(e,l).slice(0)},s=se.compile=function(e,t){var n,o=[],a=[],s=D[e+" "];if(!s){for(t||(t=i(e)),n=t.length;n--;)(s=Ee(t[n]))[w]?o.push(s):a.push(s);(s=D(e,function(e,t){var n=t.length>0,o=e.length>0,a=function(a,i,s,l,c){var d,m,y,v=0,g="0",b=a&&[],w=[],x=u,T=a||o&&r.find.TAG("*",c),E=S+=null==x?1:Math.random()||.1,C=T.length;for(c&&(u=i==p||i||c);g!==C&&null!=(d=T[g]);g++){if(o&&d){for(m=0,i||d.ownerDocument==p||(f(d),s=!h);y=e[m++];)if(y(d,i||p,s)){l.push(d);break}c&&(S=E)}n&&((d=!y&&d)&&v--,a&&b.push(d))}if(v+=g,n&&g!==v){for(m=0;y=t[m++];)y(b,w,i,s);if(a){if(v>0)for(;g--;)b[g]||w[g]||(w[g]=I.call(l));w=Se(w)}j.apply(l,w),c&&!a&&w.length>0&&v+t.length>1&&se.uniqueSort(l)}return c&&(S=E,u=x),b};return n?ue(a):a}(a,o))).selector=e}return s},l=se.select=function(e,t,n,o){var a,l,u,c,d,f="function"==typeof e&&e,p=!o&&i(e=f.selector||e);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&h&&r.relative[l[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(a=X.needsContext.test(e)?0:l.length;a--&&(u=l[a],!r.relative[c=u.type]);)if((d=r.find[c])&&(o=d(u.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(a,1),!(e=o.length&&be(l)))return j.apply(n,o),n;break}}return(f||s(e,p))(o,t,!h,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!d,f(),n.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||de(M,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),se}(r);E.find=D,E.expr=D.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=D.uniqueSort,E.text=D.getText,E.isXMLDoc=D.isXML,E.contains=D.contains,E.escapeSelector=D.escape;var _=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&E(e).is(n))break;r.push(e)}return r},k=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},N=E.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,n){return v(t)?E.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?E.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?E.grep(e,(function(e){return c.call(t,e)>-1!==n})):E.filter(t,e,n)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,(function(e){return 1===e.nodeType})))},E.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(E(e).filter((function(){for(t=0;t<r;t++)if(E.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,o[t],n);return r>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"==typeof e&&N.test(e)?E(e):e||[],!1).length}});var j,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||j,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),I.test(r[1])&&E.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=b.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,j=E(b);var P=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,o=this.length,a=[],i="string"!=typeof e&&E(e);if(!N.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(i?i.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?E.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?c.call(E(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _(e,"parentNode")},parentsUntil:function(e,t,n){return _(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return _(e,"nextSibling")},prevAll:function(e){return _(e,"previousSibling")},nextUntil:function(e,t,n){return _(e,"nextSibling",n)},prevUntil:function(e,t,n){return _(e,"previousSibling",n)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return null!=e.contentDocument&&i(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},(function(e,t){E.fn[e]=function(n,r){var o=E.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=E.filter(r,o)),this.length>1&&(M[e]||E.uniqueSort(o),P.test(e)&&o.reverse()),this.pushStack(o)}}));var F=/[^\x20\t\r\n\f]+/g;function q(e){return e}function $(e){throw e}function z(e,t,n,r){var o;try{e&&v(o=e.promise)?o.call(e).done(t).fail(n):e&&v(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return E.each(e.match(F)||[],(function(e,n){t[n]=!0})),t}(e):E.extend({},e);var t,n,r,o,a=[],i=[],s=-1,l=function(){for(o=o||e.once,r=t=!0;i.length;s=-1)for(n=i.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(a=n?[]:"")},u={add:function(){return a&&(n&&!t&&(s=a.length-1,i.push(n)),function t(n){E.each(n,(function(n,r){v(r)?e.unique&&u.has(r)||a.push(r):r&&r.length&&"string"!==S(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return E.each(arguments,(function(e,t){for(var n;(n=E.inArray(t,a,n))>-1;)a.splice(n,1),n<=s&&s--})),this},has:function(e){return e?E.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=i=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=i=[],n||t||(a=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],i.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},E.extend({Deferred:function(e){var t=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return E.Deferred((function(n){E.each(t,(function(t,r){var o=v(e[r[4]])&&e[r[4]];a[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,o){var a=0;function i(e,t,n,o){return function(){var s=this,l=arguments,u=function(){var r,u;if(!(e<a)){if((r=n.apply(s,l))===t.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"==typeof r||"function"==typeof r)&&r.then,v(u)?o?u.call(r,i(a,t,q,o),i(a,t,$,o)):(a++,u.call(r,i(a,t,q,o),i(a,t,$,o),i(a,t,q,t.notifyWith))):(n!==q&&(s=void 0,l=[r]),(o||t.resolveWith)(s,l))}},c=o?u:function(){try{u()}catch(r){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(r,c.stackTrace),e+1>=a&&(n!==$&&(s=void 0,l=[r]),t.rejectWith(s,l))}};e?c():(E.Deferred.getStackHook&&(c.stackTrace=E.Deferred.getStackHook()),r.setTimeout(c))}}return E.Deferred((function(r){t[0][3].add(i(0,r,v(o)?o:q,r.notifyWith)),t[1][3].add(i(0,r,v(e)?e:q)),t[2][3].add(i(0,r,v(n)?n:$))})).promise()},promise:function(e){return null!=e?E.extend(e,o):o}},a={};return E.each(t,(function(e,r){var i=r[2],s=r[5];o[r[1]]=i.add,s&&i.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),i.add(r[3].fire),a[r[0]]=function(){return a[r[0]+"With"](this===a?void 0:this,arguments),this},a[r[0]+"With"]=i.fireWith})),o.promise(a),e&&e.call(a,a),a},when:function(e){var t=arguments.length,n=t,r=Array(n),o=s.call(arguments),a=E.Deferred(),i=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?s.call(arguments):n,--t||a.resolveWith(r,o)}};if(t<=1&&(z(e,a.done(i(n)).resolve,a.reject,!t),"pending"===a.state()||v(o[n]&&o[n].then)))return a.then();for(;n--;)z(o[n],i(n),a.reject);return a.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&V.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){r.setTimeout((function(){throw e}))};var H=E.Deferred();function B(){b.removeEventListener("DOMContentLoaded",B),r.removeEventListener("load",B),E.ready()}E.fn.ready=function(e){return H.then(e).catch((function(e){E.readyException(e)})),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||H.resolveWith(b,[E]))}}),E.ready.then=H.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(E.ready):(b.addEventListener("DOMContentLoaded",B),r.addEventListener("load",B));var G=function(e,t,n,r,o,a,i){var s=0,l=e.length,u=null==n;if("object"===S(n))for(s in o=!0,n)G(e,t,s,n[s],!0,a,i);else if(void 0!==r&&(o=!0,v(r)||(i=!0),u&&(i?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(E(e),n)})),t))for(;s<l;s++)t(e[s],n,i?r:r.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):l?t(e[0],n):a},W=/^-ms-/,U=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function Q(e){return e.replace(W,"ms-").replace(U,X)}var J=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function K(){this.expando=E.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},J(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[Q(t)]=n;else for(r in t)o[Q(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Q(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Q):(t=Q(t))in r?[t]:t.match(F)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||E.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var Y=new K,Z=new K,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return Z.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,r,o,a=this[0],i=a&&a.attributes;if(void 0===e){if(this.length&&(o=Z.get(a),1===a.nodeType&&!Y.get(a,"hasDataAttrs"))){for(n=i.length;n--;)i[n]&&0===(r=i[n].name).indexOf("data-")&&(r=Q(r.slice(5)),ne(a,r,o[r]));Y.set(a,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){Z.set(this,e)})):G(this,(function(t){var n;if(a&&void 0===t)return void 0!==(n=Z.get(a,e))||void 0!==(n=ne(a,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),E.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,o=n.shift(),a=E._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete a.stop,o.call(e,(function(){E.dequeue(e,t)}),a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:E.Callbacks("once memory").add((function(){Y.remove(e,[t+"queue",n])}))})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each((function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){E.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=E.Deferred(),a=this,i=this.length,s=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";i--;)(n=Y.get(a[i],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),ae=["Top","Right","Bottom","Left"],ie=b.documentElement,se=function(e){return E.contains(e.ownerDocument,e)},le={composed:!0};ie.getRootNode&&(se=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===E.css(e,"display")};function ce(e,t,n,r){var o,a,i=20,s=r?function(){return r.cur()}:function(){return E.css(e,t,"")},l=s(),u=n&&n[3]||(E.cssNumber[t]?"":"px"),c=e.nodeType&&(E.cssNumber[t]||"px"!==u&&+l)&&oe.exec(E.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;i--;)E.style(e,t,c+u),(1-a)*(1-(a=s()/l||.5))<=0&&(i=0),c/=a;c*=2,E.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=o)),o}var de={};function fe(e){var t,n=e.ownerDocument,r=e.nodeName,o=de[r];return o||(t=n.body.appendChild(n.createElement(r)),o=E.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),de[r]=o,o)}function pe(e,t){for(var n,r,o=[],a=0,i=e.length;a<i;a++)(r=e[a]).style&&(n=r.style.display,t?("none"===n&&(o[a]=Y.get(r,"display")||null,o[a]||(r.style.display="")),""===r.style.display&&ue(r)&&(o[a]=fe(r))):"none"!==n&&(o[a]="none",Y.set(r,"display",n)));for(a=0;a<i;a++)null!=o[a]&&(e[a].style.display=o[a]);return e}E.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ue(this)?E(this).show():E(this).hide()}))}});var me,he,ye=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ge=/^$|^module$|\/(?:java|ecma)script/i;me=b.createDocumentFragment().appendChild(b.createElement("div")),(he=b.createElement("input")).setAttribute("type","radio"),he.setAttribute("checked","checked"),he.setAttribute("name","t"),me.appendChild(he),y.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue,me.innerHTML="<option></option>",y.option=!!me.lastChild;var be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function we(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?E.merge([e],n):n}function xe(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td,y.option||(be.optgroup=be.option=[1,"<select multiple='multiple'>","</select>"]);var Se=/<|&#?\w+;/;function Te(e,t,n,r,o){for(var a,i,s,l,u,c,d=t.createDocumentFragment(),f=[],p=0,m=e.length;p<m;p++)if((a=e[p])||0===a)if("object"===S(a))E.merge(f,a.nodeType?[a]:a);else if(Se.test(a)){for(i=i||d.appendChild(t.createElement("div")),s=(ve.exec(a)||["",""])[1].toLowerCase(),l=be[s]||be._default,i.innerHTML=l[1]+E.htmlPrefilter(a)+l[2],c=l[0];c--;)i=i.lastChild;E.merge(f,i.childNodes),(i=d.firstChild).textContent=""}else f.push(t.createTextNode(a));for(d.textContent="",p=0;a=f[p++];)if(r&&E.inArray(a,r)>-1)o&&o.push(a);else if(u=se(a),i=we(d.appendChild(a),"script"),u&&xe(i),n)for(c=0;a=i[c++];)ge.test(a.type||"")&&n.push(a);return d}var Ee=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function De(){return!1}function _e(e,t){return e===function(){try{return b.activeElement}catch(e){}}()==("focus"===t)}function ke(e,t,n,r,o,a){var i,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)ke(e,s,n,r,t[s],a);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=De;else if(!o)return e;return 1===a&&(i=o,(o=function(e){return E().off(e),i.apply(this,arguments)}).guid=i.guid||(i.guid=E.guid++)),e.each((function(){E.event.add(this,t,o,r,n)}))}function Ne(e,t,n){n?(Y.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var r,o,a=Y.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=s.call(arguments),Y.set(this,t,a),r=n(this,t),this[t](),a!==(o=Y.get(this,t))||r?Y.set(this,t,!1):o={},a!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else a.length&&(Y.set(this,t,{value:E.event.trigger(E.extend(a[0],E.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,t)&&E.event.add(e,t,Ce)}E.event={global:{},add:function(e,t,n,r,o){var a,i,s,l,u,c,d,f,p,m,h,y=Y.get(e);if(J(e))for(n.handler&&(n=(a=n).handler,o=a.selector),o&&E.find.matchesSelector(ie,o),n.guid||(n.guid=E.guid++),(l=y.events)||(l=y.events=Object.create(null)),(i=y.handle)||(i=y.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(F)||[""]).length;u--;)p=h=(s=Ee.exec(t[u])||[])[1],m=(s[2]||"").split(".").sort(),p&&(d=E.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=E.event.special[p]||{},c=E.extend({type:p,origType:h,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&E.expr.match.needsContext.test(o),namespace:m.join(".")},a),(f=l[p])||((f=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,m,i)||e.addEventListener&&e.addEventListener(p,i)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,c):f.push(c),E.event.global[p]=!0)},remove:function(e,t,n,r,o){var a,i,s,l,u,c,d,f,p,m,h,y=Y.hasData(e)&&Y.get(e);if(y&&(l=y.events)){for(u=(t=(t||"").match(F)||[""]).length;u--;)if(p=h=(s=Ee.exec(t[u])||[])[1],m=(s[2]||"").split(".").sort(),p){for(d=E.event.special[p]||{},f=l[p=(r?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=a=f.length;a--;)c=f[a],!o&&h!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(a,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));i&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,m,y.handle)||E.removeEvent(e,p,y.handle),delete l[p])}else for(p in l)E.event.remove(e,p+t[u],n,r,!0);E.isEmptyObject(l)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,a,i,s=new Array(arguments.length),l=E.event.fix(e),u=(Y.get(this,"events")||Object.create(null))[l.type]||[],c=E.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(i=E.event.handlers.call(this,l,u),t=0;(o=i[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(r=((E.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,o,a,i,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(a=[],i={},n=0;n<l;n++)void 0===i[o=(r=t[n]).selector+" "]&&(i[o]=r.needsContext?E(o,this).index(u)>-1:E.find(o,this,null,[u]).length),i[o]&&a.push(r);a.length&&s.push({elem:u,handlers:a})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ye.test(t.type)&&t.click&&A(t,"input")&&Ne(t,"click",Ce),!1},trigger:function(e){var t=this||e;return ye.test(t.type)&&t.click&&A(t,"input")&&Ne(t,"click"),!0},_default:function(e){var t=e.target;return ye.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:De,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:De,isPropagationStopped:De,isImmediatePropagationStopped:De,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(e,t){E.event.special[e]={setup:function(){return Ne(this,e,_e),!1},trigger:function(){return Ne(this,e),!0},_default:function(){return!0},delegateType:t}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,a=e.handleObj;return o&&(o===r||E.contains(r,o))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}})),E.fn.extend({on:function(e,t,n,r){return ke(this,e,t,n,r)},one:function(e,t,n,r){return ke(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=De),this.each((function(){E.event.remove(this,e,n,t)}))}});var Ae=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function Re(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Pe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,r,o,a,i,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(o in Y.remove(t,"handle events"),s)for(n=0,r=s[o].length;n<r;n++)E.event.add(t,o,s[o][n]);Z.hasData(e)&&(a=Z.access(e),i=E.extend({},a),Z.set(t,i))}}function Oe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ye.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Fe(e,t,n,r){t=l(t);var o,a,i,s,u,c,d=0,f=e.length,p=f-1,m=t[0],h=v(m);if(h||f>1&&"string"==typeof m&&!y.checkClone&&Ie.test(m))return e.each((function(o){var a=e.eq(o);h&&(t[0]=m.call(this,o,a.html())),Fe(a,t,n,r)}));if(f&&(a=(o=Te(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=a),a||r)){for(s=(i=E.map(we(o,"script"),Re)).length;d<f;d++)u=o,d!==p&&(u=E.clone(u,!0,!0),s&&E.merge(i,we(u,"script"))),n.call(e[d],u,d);if(s)for(c=i[i.length-1].ownerDocument,E.map(i,Pe),d=0;d<s;d++)u=i[d],ge.test(u.type||"")&&!Y.access(u,"globalEval")&&E.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?E._evalUrl&&!u.noModule&&E._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):x(u.textContent.replace(Le,""),u,c))}return e}function qe(e,t,n){for(var r,o=t?E.filter(t,e):e,a=0;null!=(r=o[a]);a++)n||1!==r.nodeType||E.cleanData(we(r)),r.parentNode&&(n&&se(r)&&xe(we(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,a,i,s=e.cloneNode(!0),l=se(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(i=we(s),r=0,o=(a=we(e)).length;r<o;r++)Oe(a[r],i[r]);if(t)if(n)for(a=a||we(e),i=i||we(s),r=0,o=a.length;r<o;r++)Me(a[r],i[r]);else Me(e,s);return(i=we(s,"script")).length>0&&xe(i,!l&&we(e,"script")),s},cleanData:function(e){for(var t,n,r,o=E.event.special,a=0;void 0!==(n=e[a]);a++)if(J(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)o[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),E.fn.extend({detach:function(e){return qe(this,e,!0)},remove:function(e){return qe(this,e)},text:function(e){return G(this,(function(e){return void 0===e?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Fe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)}))},prepend:function(){return Fe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(we(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return E.clone(this,e,t)}))},html:function(e){return G(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!be[(ve.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(we(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,(function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(we(this)),n&&n.replaceChild(t,this))}),e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){E.fn[e]=function(e){for(var n,r=[],o=E(e),a=o.length-1,i=0;i<=a;i++)n=i===a?this:this.clone(!0),E(o[i])[t](n),u.apply(r,n.get());return this.pushStack(r)}}));var $e=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),ze=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Ve=function(e,t,n){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=a[o];return r},He=new RegExp(ae.join("|"),"i");function Be(e,t,n){var r,o,a,i,s=e.style;return(n=n||ze(e))&&(""!==(i=n.getPropertyValue(t)||n[t])||se(e)||(i=E.style(e,t)),!y.pixelBoxStyles()&&$e.test(i)&&He.test(t)&&(r=s.width,o=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=i,i=n.width,s.width=r,s.minWidth=o,s.maxWidth=a)),void 0!==i?i+"":i}function Ge(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(u).appendChild(c);var e=r.getComputedStyle(c);n="1%"!==e.top,l=12===t(e.marginLeft),c.style.right="60%",i=36===t(e.right),o=36===t(e.width),c.style.position="absolute",a=12===t(c.offsetWidth/3),ie.removeChild(u),c=null}}function t(e){return Math.round(parseFloat(e))}var n,o,a,i,s,l,u=b.createElement("div"),c=b.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===c.style.backgroundClip,E.extend(y,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),i},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),a},reliableTrDimensions:function(){var e,t,n,o;return null==s&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ie.appendChild(e).appendChild(t).appendChild(n),o=r.getComputedStyle(t),s=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===t.offsetHeight,ie.removeChild(e)),s}}))}();var We=["Webkit","Moz","ms"],Ue=b.createElement("div").style,Xe={};function Qe(e){return E.cssProps[e]||Xe[e]||(e in Ue?e:Xe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=We.length;n--;)if((e=We[n]+t)in Ue)return e}(e)||e)}var Je=/^(none|table(?!-c[ea]).+)/,Ke=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"};function et(e,t,n){var r=oe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function tt(e,t,n,r,o,a){var i="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;i<4;i+=2)"margin"===n&&(l+=E.css(e,n+ae[i],!0,o)),r?("content"===n&&(l-=E.css(e,"padding"+ae[i],!0,o)),"margin"!==n&&(l-=E.css(e,"border"+ae[i]+"Width",!0,o))):(l+=E.css(e,"padding"+ae[i],!0,o),"padding"!==n?l+=E.css(e,"border"+ae[i]+"Width",!0,o):s+=E.css(e,"border"+ae[i]+"Width",!0,o));return!r&&a>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-s-.5))||0),l}function nt(e,t,n){var r=ze(e),o=(!y.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),a=o,i=Be(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if($e.test(i)){if(!n)return i;i="auto"}return(!y.boxSizingReliable()&&o||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===i||!parseFloat(i)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===E.css(e,"boxSizing",!1,r),(a=s in e)&&(i=e[s])),(i=parseFloat(i)||0)+tt(e,t,n||(o?"border":"content"),a,r,i)+"px"}function rt(e,t,n,r,o){return new rt.prototype.init(e,t,n,r,o)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,i,s=Q(t),l=Ke.test(t),u=e.style;if(l||(t=Qe(s)),i=E.cssHooks[t]||E.cssHooks[s],void 0===n)return i&&"get"in i&&void 0!==(o=i.get(e,!1,r))?o:u[t];"string"==(a=typeof n)&&(o=oe.exec(n))&&o[1]&&(n=ce(e,t,o),a="number"),null!=n&&n==n&&("number"!==a||l||(n+=o&&o[3]||(E.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),i&&"set"in i&&void 0===(n=i.set(e,n,r))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var o,a,i,s=Q(t);return Ke.test(t)||(t=Qe(s)),(i=E.cssHooks[t]||E.cssHooks[s])&&"get"in i&&(o=i.get(e,!0,n)),void 0===o&&(o=Be(e,t,r)),"normal"===o&&t in Ze&&(o=Ze[t]),""===n||n?(a=parseFloat(o),!0===n||isFinite(a)?a||0:o):o}}),E.each(["height","width"],(function(e,t){E.cssHooks[t]={get:function(e,n,r){if(n)return!Je.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,r):Ve(e,Ye,(function(){return nt(e,t,r)}))},set:function(e,n,r){var o,a=ze(e),i=!y.scrollboxSize()&&"absolute"===a.position,s=(i||r)&&"border-box"===E.css(e,"boxSizing",!1,a),l=r?tt(e,t,r,s,a):0;return s&&i&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-tt(e,t,"border",!1,a)-.5)),l&&(o=oe.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),et(0,n,l)}}})),E.cssHooks.marginLeft=Ge(y.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-Ve(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(e,t){E.cssHooks[e+t]={expand:function(n){for(var r=0,o={},a="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+ae[r]+t]=a[r]||a[r-2]||a[0];return o}},"margin"!==e&&(E.cssHooks[e+t].set=et)})),E.fn.extend({css:function(e,t){return G(this,(function(e,t,n){var r,o,a={},i=0;if(Array.isArray(t)){for(r=ze(e),o=t.length;i<o;i++)a[t[i]]=E.css(e,t[i],!1,r);return a}return void 0!==n?E.style(e,t,n):E.css(e,t)}),e,t,arguments.length>1)}}),E.Tween=rt,rt.prototype={constructor:rt,init:function(e,t,n,r,o,a){this.elem=e,this.prop=n,this.easing=o||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(E.cssNumber[n]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return e&&e.get?e.get(this):rt.propHooks._default.get(this)},run:function(e){var t,n=rt.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rt.propHooks._default.set(this),this}},rt.prototype.init.prototype=rt.prototype,rt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[Qe(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},rt.propHooks.scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=rt.prototype.init,E.fx.step={};var ot,at,it=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function lt(){at&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(lt):r.setTimeout(lt,E.fx.interval),E.fx.tick())}function ut(){return r.setTimeout((function(){ot=void 0})),ot=Date.now()}function ct(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=ae[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function dt(e,t,n){for(var r,o=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),a=0,i=o.length;a<i;a++)if(r=o[a].call(n,t,e))return r}function ft(e,t,n){var r,o,a=0,i=ft.prefilters.length,s=E.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=ot||ut(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),a=0,i=u.tweens.length;a<i;a++)u.tweens[a].run(r);return s.notifyWith(e,[u,r,n]),r<1&&i?n:(i||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:ot||ut(),duration:n.duration,tweens:[],createTween:function(t,n){var r=E.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var n,r,o,a,i;for(n in e)if(o=t[r=Q(n)],a=e[n],Array.isArray(a)&&(o=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),(i=E.cssHooks[r])&&"expand"in i)for(n in a=i.expand(a),delete e[r],a)n in e||(e[n]=a[n],t[n]=o);else t[r]=o}(c,u.opts.specialEasing);a<i;a++)if(r=ft.prefilters[a].call(u,e,c,u.opts))return v(r.stop)&&(E._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return E.map(c,dt,u),v(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),E.fx.timer(E.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}E.Animation=E.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,oe.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(F);for(var n,r=0,o=e.length;r<o;r++)n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,a,i,s,l,u,c,d="width"in t||"height"in t,f=this,p={},m=e.style,h=e.nodeType&&ue(e),y=Y.get(e,"fxshow");for(r in n.queue||(null==(i=E._queueHooks(e,"fx")).unqueued&&(i.unqueued=0,s=i.empty.fire,i.empty.fire=function(){i.unqueued||s()}),i.unqueued++,f.always((function(){f.always((function(){i.unqueued--,E.queue(e,"fx").length||i.empty.fire()}))}))),t)if(o=t[r],it.test(o)){if(delete t[r],a=a||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!y||void 0===y[r])continue;h=!0}p[r]=y&&y[r]||E.style(e,r)}if((l=!E.isEmptyObject(t))||!E.isEmptyObject(p))for(r in d&&1===e.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(u=y&&y.display)&&(u=Y.get(e,"display")),"none"===(c=E.css(e,"display"))&&(u?c=u:(pe([e],!0),u=e.style.display||u,c=E.css(e,"display"),pe([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===E.css(e,"float")&&(l||(f.done((function(){m.display=u})),null==u&&(c=m.display,u="none"===c?"":c)),m.display="inline-block")),n.overflow&&(m.overflow="hidden",f.always((function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}))),l=!1,p)l||(y?"hidden"in y&&(h=y.hidden):y=Y.access(e,"fxshow",{display:u}),a&&(y.hidden=!h),h&&pe([e],!0),f.done((function(){for(r in h||pe([e]),Y.remove(e,"fxshow"),p)E.style(e,r,p[r])}))),l=dt(h?y[r]:0,r,f),r in y||(y[r]=l.start,h&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return E.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=E.isEmptyObject(e),a=E.speed(t,n,r),i=function(){var t=ft(this,E.extend({},e),a);(o||Y.get(this,"finish"))&&t.stop(!0)};return i.finish=i,o||!1===a.queue?this.each(i):this.queue(a.queue,i)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",a=E.timers,i=Y.get(this);if(o)i[o]&&i[o].stop&&r(i[o]);else for(o in i)i[o]&&i[o].stop&&st.test(o)&&r(i[o]);for(o=a.length;o--;)a[o].elem!==this||null!=e&&a[o].queue!==e||(a[o].anim.stop(n),t=!1,a.splice(o,1));!t&&n||E.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Y.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],a=E.timers,i=r?r.length:0;for(n.finish=!0,E.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<i;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),E.each(["toggle","show","hide"],(function(e,t){var n=E.fn[t];E.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ct(t,!0),e,r,o)}})),E.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){E.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(ot=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),ot=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){at||(at=!0,lt())},E.fx.stop=function(){at=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(e,t){return e=E.fx&&E.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var o=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(o)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",y.checkOn=""!==e.value,y.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",y.radioValue="t"===e.value}();var pt,mt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return G(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){E.removeAttr(this,e)}))}}),E.extend({attr:function(e,t,n){var r,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?E.prop(e,t,n):(1===a&&E.isXMLDoc(e)||(o=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(F);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=mt[t]||E.find.attr;mt[t]=function(e,t,r){var o,a,i=t.toLowerCase();return r||(a=mt[i],mt[i]=o,o=null!=n(e,t,r)?i:null,mt[i]=a),o}}));var ht=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function vt(e){return(e.match(F)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(F)||[]}E.fn.extend({prop:function(e,t){return G(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[E.propFix[e]||e]}))}}),E.extend({prop:function(e,t,n){var r,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&E.isXMLDoc(e)||(t=E.propFix[t]||t,o=E.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(e){var t,n,r,o,a,i,s,l=0;if(v(e))return this.each((function(t){E(this).addClass(e.call(this,t,gt(this)))}));if((t=bt(e)).length)for(;n=this[l++];)if(o=gt(n),r=1===n.nodeType&&" "+vt(o)+" "){for(i=0;a=t[i++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");o!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,a,i,s,l=0;if(v(e))return this.each((function(t){E(this).removeClass(e.call(this,t,gt(this)))}));if(!arguments.length)return this.attr("class","");if((t=bt(e)).length)for(;n=this[l++];)if(o=gt(n),r=1===n.nodeType&&" "+vt(o)+" "){for(i=0;a=t[i++];)for(;r.indexOf(" "+a+" ")>-1;)r=r.replace(" "+a+" "," ");o!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):v(e)?this.each((function(n){E(this).toggleClass(e.call(this,n,gt(this),t),t)})):this.each((function(){var t,o,a,i;if(r)for(o=0,a=E(this),i=bt(e);t=i[o++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==n||((t=gt(this))&&Y.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Y.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+vt(gt(n))+" ").indexOf(t)>-1)return!0;return!1}});var wt=/\r/g;E.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=v(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,E(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=E.map(o,(function(e){return null==e?"":e+""}))),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=E.valHooks[o.type]||E.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(wt,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:vt(E.text(e))}},select:{get:function(e){var t,n,r,o=e.options,a=e.selectedIndex,i="select-one"===e.type,s=i?null:[],l=i?a+1:o.length;for(r=a<0?l:i?a:0;r<l;r++)if(((n=o[r]).selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=E(n).val(),i)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,a=E.makeArray(t),i=o.length;i--;)((r=o[i]).selected=E.inArray(E.valHooks.option.get(r),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},y.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),y.focusin="onfocusin"in r;var xt=/^(?:focusinfocus|focusoutblur)$/,St=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,n,o){var a,i,s,l,u,c,d,f,m=[n||b],h=p.call(e,"type")?e.type:e,y=p.call(e,"namespace")?e.namespace.split("."):[];if(i=f=s=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!xt.test(h+E.event.triggered)&&(h.indexOf(".")>-1&&(y=h.split("."),h=y.shift(),y.sort()),u=h.indexOf(":")<0&&"on"+h,(e=e[E.expando]?e:new E.Event(h,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),d=E.event.special[h]||{},o||!d.trigger||!1!==d.trigger.apply(n,t))){if(!o&&!d.noBubble&&!g(n)){for(l=d.delegateType||h,xt.test(l+h)||(i=i.parentNode);i;i=i.parentNode)m.push(i),s=i;s===(n.ownerDocument||b)&&m.push(s.defaultView||s.parentWindow||r)}for(a=0;(i=m[a++])&&!e.isPropagationStopped();)f=i,e.type=a>1?l:d.bindType||h,(c=(Y.get(i,"events")||Object.create(null))[e.type]&&Y.get(i,"handle"))&&c.apply(i,t),(c=u&&i[u])&&c.apply&&J(i)&&(e.result=c.apply(i,t),!1===e.result&&e.preventDefault());return e.type=h,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(m.pop(),t)||!J(n)||u&&v(n[h])&&!g(n)&&((s=n[u])&&(n[u]=null),E.event.triggered=h,e.isPropagationStopped()&&f.addEventListener(h,St),n[h](),e.isPropagationStopped()&&f.removeEventListener(h,St),E.event.triggered=void 0,s&&(n[u]=s)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each((function(){E.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),y.focusin||E.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){E.event.simulate(t,e.target,E.event.fix(e))};E.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=Y.access(r,t);o||r.addEventListener(e,n,!0),Y.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=Y.access(r,t)-1;o?Y.access(r,t,o):(r.removeEventListener(e,n,!0),Y.remove(r,t))}}}));var Tt=r.location,Et={guid:Date.now()},Ct=/\?/;E.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||E.error("Invalid XML: "+(n?E.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Dt=/\[\]$/,_t=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function At(e,t,n,r){var o;if(Array.isArray(t))E.each(t,(function(t,o){n||Dt.test(e)?r(e,o):At(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)}));else if(n||"object"!==S(t))r(e,t);else for(o in t)At(e+"["+o+"]",t[o],n,r)}E.param=function(e,t){var n,r=[],o=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,(function(){o(this.name,this.value)}));else for(n in e)At(n,e[n],t,o);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Nt.test(this.nodeName)&&!kt.test(e)&&(this.checked||!ye.test(e))})).map((function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,(function(e){return{name:t.name,value:e.replace(_t,"\r\n")}})):{name:t.name,value:n.replace(_t,"\r\n")}})).get()}});var It=/%20/g,Lt=/#.*$/,jt=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:GET|HEAD)$/,Mt=/^\/\//,Ot={},Ft={},qt="*/".concat("*"),$t=b.createElement("a");function zt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,a=t.toLowerCase().match(F)||[];if(v(n))for(;r=a[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Vt(e,t,n,r){var o={},a=e===Ft;function i(s){var l;return o[s]=!0,E.each(e[s]||[],(function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)})),l}return i(t.dataTypes[0])||!o["*"]&&i("*")}function Ht(e,t){var n,r,o=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}$t.href=Tt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,E.ajaxSettings),t):Ht(E.ajaxSettings,e)},ajaxPrefilter:zt(Ot),ajaxTransport:zt(Ft),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,a,i,s,l,u,c,d,f,p=E.ajaxSetup({},t),m=p.context||p,h=p.context&&(m.nodeType||m.jquery)?E(m):E.event,y=E.Deferred(),v=E.Callbacks("once memory"),g=p.statusCode||{},w={},x={},S="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(u){if(!i)for(i={};t=Rt.exec(a);)i[t[1].toLowerCase()+" "]=(i[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=i[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(e,t){return null==u&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)T.always(e[T.status]);else for(t in e)g[t]=[g[t],e[t]];return this},abort:function(e){var t=e||S;return n&&n.abort(t),C(0,t),this}};if(y.promise(T),p.url=((e||p.url||Tt.href)+"").replace(Mt,Tt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(F)||[""],null==p.crossDomain){l=b.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=$t.protocol+"//"+$t.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=E.param(p.data,p.traditional)),Vt(Ot,p,t,T),u)return T;for(d in(c=E.event&&p.global)&&0==E.active++&&E.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Pt.test(p.type),o=p.url.replace(Lt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(It,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Ct.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(jt,"$1"),f=(Ct.test(o)?"&":"?")+"_="+Et.guid+++f),p.url=o+f),p.ifModified&&(E.lastModified[o]&&T.setRequestHeader("If-Modified-Since",E.lastModified[o]),E.etag[o]&&T.setRequestHeader("If-None-Match",E.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+qt+"; q=0.01":""):p.accepts["*"]),p.headers)T.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(m,T,p)||u))return T.abort();if(S="abort",v.add(p.complete),T.done(p.success),T.fail(p.error),n=Vt(Ft,p,t,T)){if(T.readyState=1,c&&h.trigger("ajaxSend",[T,p]),u)return T;p.async&&p.timeout>0&&(s=r.setTimeout((function(){T.abort("timeout")}),p.timeout));try{u=!1,n.send(w,C)}catch(e){if(u)throw e;C(-1,e)}}else C(-1,"No Transport");function C(e,t,i,l){var d,f,b,w,x,S=t;u||(u=!0,s&&r.clearTimeout(s),n=void 0,a=l||"",T.readyState=e>0?4:0,d=e>=200&&e<300||304===e,i&&(w=function(e,t,n){for(var r,o,a,i,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)a=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}i||(i=o)}a=a||i}if(a)return a!==l[0]&&l.unshift(a),n[a]}(p,T,i)),!d&&E.inArray("script",p.dataTypes)>-1&&E.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),w=function(e,t,n,r){var o,a,i,s,l,u={},c=e.dataTypes.slice();if(c[1])for(i in e.converters)u[i.toLowerCase()]=e.converters[i];for(a=c.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(i=u[l+" "+a]||u["* "+a]))for(o in u)if((s=o.split(" "))[1]===a&&(i=u[l+" "+s[0]]||u["* "+s[0]])){!0===i?i=u[o]:!0!==u[o]&&(a=s[0],c.unshift(s[1]));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(p,w,T,d),d?(p.ifModified&&((x=T.getResponseHeader("Last-Modified"))&&(E.lastModified[o]=x),(x=T.getResponseHeader("etag"))&&(E.etag[o]=x)),204===e||"HEAD"===p.type?S="nocontent":304===e?S="notmodified":(S=w.state,f=w.data,d=!(b=w.error))):(b=S,!e&&S||(S="error",e<0&&(e=0))),T.status=e,T.statusText=(t||S)+"",d?y.resolveWith(m,[f,S,T]):y.rejectWith(m,[T,S,b]),T.statusCode(g),g=void 0,c&&h.trigger(d?"ajaxSuccess":"ajaxError",[T,p,d?f:b]),v.fireWith(m,[T,S]),c&&(h.trigger("ajaxComplete",[T,p]),--E.active||E.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],(function(e,t){E[t]=function(e,n,r,o){return v(n)&&(o=o||r,r=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:o,data:n,success:r},E.isPlainObject(e)&&e))}})),E.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){E(this).wrapInner(e.call(this,t))})):this.each((function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){E(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},Gt=E.ajaxSettings.xhr();y.cors=!!Gt&&"withCredentials"in Gt,y.ajax=Gt=!!Gt,E.ajaxTransport((function(e){var t,n;if(y.cors||Gt&&!e.crossDomain)return{send:function(o,a){var i,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];for(i in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(i,o[i]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Bt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),E.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),E.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Wt,Ut=[],Xt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ut.pop()||E.expando+"_"+Et.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",(function(e,t,n){var o,a,i,s=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Xt,"$1"+o):!1!==e.jsonp&&(e.url+=(Ct.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return i||E.error(o+" was not called"),i[0]},e.dataTypes[0]="json",a=r[o],r[o]=function(){i=arguments},n.always((function(){void 0===a?E(r).removeProp(o):r[o]=a,e[o]&&(e.jsonpCallback=t.jsonpCallback,Ut.push(o)),i&&v(a)&&a(i[0]),i=a=void 0})),"script"})),y.createHTMLDocument=((Wt=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Wt.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),a=!n&&[],(o=I.exec(e))?[t.createElement(o[1])]:(o=Te([e],t,a),a&&a.length&&E(a).remove(),E.merge([],o.childNodes)));var r,o,a},E.fn.load=function(e,t,n){var r,o,a,i=this,s=e.indexOf(" ");return s>-1&&(r=vt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),i.length>0&&E.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){a=arguments,i.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)})).always(n&&function(e,t){i.each((function(){n.apply(this,a||[e.responseText,t,e])}))}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,(function(t){return e===t.elem})).length},E.offset={setOffset:function(e,t,n){var r,o,a,i,s,l,u=E.css(e,"position"),c=E(e),d={};"static"===u&&(e.style.position="relative"),s=c.offset(),a=E.css(e,"top"),l=E.css(e,"left"),("absolute"===u||"fixed"===u)&&(a+l).indexOf("auto")>-1?(i=(r=c.position()).top,o=r.left):(i=parseFloat(a)||0,o=parseFloat(l)||0),v(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(d.top=t.top-s.top+i),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):c.css(d)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){E.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),o.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-E.css(r,"marginTop",!0),left:t.left-o.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||ie}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;E.fn[e]=function(r){return G(this,(function(e,r,o){var a;if(g(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===o)return a?a[t]:e[r];a?a.scrollTo(n?a.pageXOffset:o,n?o:a.pageYOffset):e[r]=o}),e,r,arguments.length)}})),E.each(["top","left"],(function(e,t){E.cssHooks[t]=Ge(y.pixelPosition,(function(e,n){if(n)return n=Be(e,t),$e.test(n)?E(e).position()[t]+"px":n}))})),E.each({Height:"height",Width:"width"},(function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){E.fn[r]=function(o,a){var i=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===a?"margin":"border");return G(this,(function(t,n,o){var a;return g(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===o?E.css(t,n,s):E.style(t,n,o,s)}),t,i?o:void 0,i)}}))})),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){E.fn[t]=function(e){return this.on(t,e)}})),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=s.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||E.guid++,o},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=A,E.isFunction=v,E.isWindow=g,E.camelCase=Q,E.type=S,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(Qt,"")},void 0===(n=function(){return E}.apply(t,[]))||(e.exports=n);var Jt=r.jQuery,Kt=r.$;return E.noConflict=function(e){return r.$===E&&(r.$=Kt),e&&r.jQuery===E&&(r.jQuery=Jt),E},void 0===o&&(r.jQuery=r.$=E),E}))},1466:(e,t,n)=>{e.exports=function e(t,n,r){function o(i,s){if(!n[i]){if(!t[i]){if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[i]={exports:{}};t[i][0].call(u.exports,(function(e){return o(t[i][1][e]||e)}),u,u.exports,e,t,n,r)}return n[i].exports}for(var a=void 0,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,r){(function(e){"use strict";var n,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,i=new o(c),s=e.document.createTextNode("");i.observe(s,{characterData:!0}),n=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;r=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}t.exports=function(e){1!==u.push(e)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function o(){}var a={},i=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==o&&p(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return a.reject(e,t)}r===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,r)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function o(t){n||(n=!0,a.resolve(e,t))}var i=m((function(){t(o,r)}));"error"===i.status&&r(i.value)}function m(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=u,u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===i)return this;var n=new this.constructor(o);return this.state!==l?d(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){a.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=m(f,t);if("error"===n.status)return a.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},a.reject=function(e,t){e.state=i,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:a.resolve(new this(o),e)},u.reject=function(e){var t=new this(o);return a.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var i=new Array(n),s=0,l=-1,u=new this(o);++l<n;)c(e[l],l);return u;function c(e,o){t.resolve(e).then((function(e){i[o]=e,++s!==n||r||(r=!0,a.resolve(u,i))}),(function(e){r||(r=!0,a.reject(u,e))}))}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n,r=e.length,i=!1;if(!r)return this.resolve([]);for(var s=-1,l=new this(o);++s<r;)n=e[s],t.resolve(n).then((function(e){i||(i=!0,a.resolve(l,e))}),(function(e){i||(i=!0,a.reject(l,e))}));return l}},{1:1}],3:[function(e,t,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function a(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var i=Promise;function s(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function l(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function u(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",f=void 0,p={},m=Object.prototype.toString,h="readonly",y="readwrite";function v(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function g(e){return"boolean"==typeof f?i.resolve(f):function(e){return new i((function(t){var n=e.transaction(d,y),r=a([""]);n.objectStore(d).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return f=e}))}function b(e){var t=p[e.name],n={};n.promise=new i((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function w(e){var t=p[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function x(e,t){var n=p[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function S(e,t){return new i((function(n,r){if(p[e.name]=p[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);b(e),e.db.close()}var a=[e.name];t&&a.push(e.version);var i=o.open.apply(o,a);t&&(i.onupgradeneeded=function(t){var n=i.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(d)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),r(i.error)},i.onsuccess=function(){var t=i.result;t.onversionchange=function(e){e.target.close()},n(t),w(e)}}))}function T(e){return S(e,!1)}function E(e){return S(e,!0)}function C(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function D(e){return a([v(atob(e.data))],{type:e.type})}function _(e){return e&&e.__local_forage_encoded_blob}function k(e){var t=this,n=t._initReady().then((function(){var e=p[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return l(n,e,e),n}function N(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return i.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),E(e)})).then((function(){return function(e){b(e);for(var t=p[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,T(e).then((function(t){return e.db=t,C(e)?E(e):t})).then((function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r})).catch((function(t){throw x(e,t),t}))}(e).then((function(){N(e,t,n,r-1)}))})).catch(n);n(o)}}var A={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var o=p[n.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},p[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=k);var a=[];function s(){return i.resolve()}for(var l=0;l<o.forages.length;l++){var u=o.forages[l];u!==t&&a.push(u._initReady().catch(s))}var c=o.forages.slice(0);return i.all(a).then((function(){return n.db=o.db,T(n)})).then((function(e){return n.db=e,C(n,t._defaultConfig.version)?E(n):e})).then((function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<c.length;r++){var a=c[r];a!==t&&(a._dbInfo.db=n.db,a._dbInfo.version=n.version)}}))},_support:function(){try{if(!o||!o.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new i((function(t,r){n.ready().then((function(){N(n._dbInfo,h,(function(o,a){if(o)return r(o);try{var i=a.objectStore(n._dbInfo.storeName).openCursor(),s=1;i.onsuccess=function(){var n=i.result;if(n){var r=n.value;_(r)&&(r=D(r));var o=e(r,n.key,s++);void 0!==o?t(o):n.continue()}else t()},i.onerror=function(){r(i.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this;e=u(e);var r=new i((function(t,r){n.ready().then((function(){N(n._dbInfo,h,(function(o,a){if(o)return r(o);try{var i=a.objectStore(n._dbInfo.storeName).get(e);i.onsuccess=function(){var e=i.result;void 0===e&&(e=null),_(e)&&(e=D(e)),t(e)},i.onerror=function(){r(i.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},setItem:function(e,t,n){var r=this;e=u(e);var o=new i((function(n,o){var a;r.ready().then((function(){return a=r._dbInfo,"[object Blob]"===m.call(t)?g(a.db).then((function(e){return e?t:(n=t,new i((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){N(r._dbInfo,y,(function(a,i){if(a)return o(a);try{var s=i.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var l=s.put(t,e);i.oncomplete=function(){void 0===t&&(t=null),n(t)},i.onabort=i.onerror=function(){var e=l.error?l.error:l.transaction.error;o(e)}}catch(e){o(e)}}))})).catch(o)}));return s(o,n),o},removeItem:function(e,t){var n=this;e=u(e);var r=new i((function(t,r){n.ready().then((function(){N(n._dbInfo,y,(function(o,a){if(o)return r(o);try{var i=a.objectStore(n._dbInfo.storeName).delete(e);a.oncomplete=function(){t()},a.onerror=function(){r(i.error)},a.onabort=function(){var e=i.error?i.error:i.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},clear:function(e){var t=this,n=new i((function(e,n){t.ready().then((function(){N(t._dbInfo,y,(function(r,o){if(r)return n(r);try{var a=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new i((function(e,n){t.ready().then((function(){N(t._dbInfo,h,(function(r,o){if(r)return n(r);try{var a=o.objectStore(t._dbInfo.storeName).count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new i((function(t,r){e<0?t(null):n.ready().then((function(){N(n._dbInfo,h,(function(o,a){if(o)return r(o);try{var i=a.objectStore(n._dbInfo.storeName),s=!1,l=i.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},l.onerror=function(){r(l.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new i((function(e,n){t.ready().then((function(){N(t._dbInfo,h,(function(r,o){if(r)return n(r);try{var a=o.objectStore(t._dbInfo.storeName).openKeyCursor(),i=[];a.onsuccess=function(){var t=a.result;t?(i.push(t.key),t.continue()):e(i)},a.onerror=function(){n(a.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=c.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,a=this;if(e.name){var l=e.name===n.name&&a._dbInfo.db?i.resolve(a._dbInfo.db):T(e).then((function(t){var n=p[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t}));r=e.storeName?l.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;b(e);var r=p[e.name],a=r.forages;t.close();for(var s=0;s<a.length;s++){var l=a[s];l._dbInfo.db=null,l._dbInfo.version=n}return new i((function(t,r){var a=o.open(e.name,n);a.onerror=function(e){a.result.close(),r(e)},a.onupgradeneeded=function(){a.result.deleteObjectStore(e.storeName)},a.onsuccess=function(){var e=a.result;e.close(),t(e)}})).then((function(e){r.db=e;for(var t=0;t<a.length;t++){var n=a[t];n._dbInfo.db=e,w(n._dbInfo)}})).catch((function(t){throw(x(e,t)||i.resolve()).catch((function(){})),t}))}})):l.then((function(t){b(e);var n=p[e.name],r=n.forages;t.close();for(var a=0;a<r.length;a++)r[a]._dbInfo.db=null;return new i((function(t,n){var r=o.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<r.length;t++)w(r[t]._dbInfo)})).catch((function(t){throw(x(e,t)||i.resolve()).catch((function(){})),t}))}))}else r=i.reject("Invalid arguments");return s(r,t),r}};var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=/^~~local_forage_type~([^~]+)~/,j="__lfsc__:",R=j.length,P="arbf",M="blob",O="si08",F="ui08",q="uic8",$="si16",z="si32",V="ur16",H="ui32",B="fl32",G="fl64",W=R+P.length,U=Object.prototype.toString;function X(e){var t,n,r,o,a,i=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var u=new ArrayBuffer(i),c=new Uint8Array(u);for(t=0;t<s;t+=4)n=I.indexOf(e[t]),r=I.indexOf(e[t+1]),o=I.indexOf(e[t+2]),a=I.indexOf(e[t+3]),c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|o>>2,c[l++]=(3&o)<<6|63&a;return u}function Q(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=I[n[t]>>2],r+=I[(3&n[t])<<4|n[t+1]>>4],r+=I[(15&n[t+1])<<2|n[t+2]>>6],r+=I[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var J={serialize:function(e,t){var n="";if(e&&(n=U.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===U.call(e.buffer))){var r,o=j;e instanceof ArrayBuffer?(r=e,o+=P):(r=e.buffer,"[object Int8Array]"===n?o+=O:"[object Uint8Array]"===n?o+=F:"[object Uint8ClampedArray]"===n?o+=q:"[object Int16Array]"===n?o+=$:"[object Uint16Array]"===n?o+=V:"[object Int32Array]"===n?o+=z:"[object Uint32Array]"===n?o+=H:"[object Float32Array]"===n?o+=B:"[object Float64Array]"===n?o+=G:t(new Error("Failed to get type for BinaryArray"))),t(o+Q(r))}else if("[object Blob]"===n){var a=new FileReader;a.onload=function(){var n="~~local_forage_type~"+e.type+"~"+Q(this.result);t("__lfsc__:blob"+n)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,R)!==j)return JSON.parse(e);var t,n=e.substring(W),r=e.substring(R,W);if(r===M&&L.test(n)){var o=n.match(L);t=o[1],n=n.substring(o[0].length)}var i=X(n);switch(r){case P:return i;case M:return a([i],{type:t});case O:return new Int8Array(i);case F:return new Uint8Array(i);case q:return new Uint8ClampedArray(i);case $:return new Int16Array(i);case V:return new Uint16Array(i);case z:return new Int32Array(i);case H:return new Uint32Array(i);case B:return new Float32Array(i);case G:return new Float64Array(i);default:throw new Error("Unkown type: "+r)}},stringToBuffer:X,bufferToString:Q};function K(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function Y(e,t,n,r,o,a){e.executeSql(n,r,o,(function(e,i){i.code===i.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?a(e,i):K(e,t,(function(){e.executeSql(n,r,o,a)}),a)}),a):a(e,i)}),a)}function Z(e,t,n,r){var o=this;e=u(e);var a=new i((function(a,i){o.ready().then((function(){void 0===t&&(t=null);var s=t,l=o._dbInfo;l.serializer.serialize(t,(function(t,u){u?i(u):l.db.transaction((function(n){Y(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){a(s)}),(function(e,t){i(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void a(Z.apply(o,[e,s,n,r-1]));i(t)}}))}))})).catch(i)}));return s(a,n),a}function ee(e){return new i((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var o=[],a=0;a<r.rows.length;a++)o.push(r.rows.item(a).name);t({db:e,storeNames:o})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var te={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new i((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(o){K(o,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=J,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new i((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){Y(n,o,"SELECT * FROM "+o.storeName,[],(function(n,r){for(var a=r.rows,i=a.length,s=0;s<i;s++){var l=a.item(s),u=l.value;if(u&&(u=o.serializer.deserialize(u)),void 0!==(u=e(u,l.key,s+1)))return void t(u)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this;e=u(e);var r=new i((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){Y(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},setItem:function(e,t,n){return Z.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=u(e);var r=new i((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){Y(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},clear:function(e){var t=this,n=new i((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Y(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new i((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Y(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new i((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){Y(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new i((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Y(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=c.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;return s(r=e.name?new i((function(t){var r;r=e.name===n.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(ee(r))})).then((function(e){return new i((function(t,n){e.db.transaction((function(r){function o(e){return new i((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var a=[],s=0,l=e.storeNames.length;s<l;s++)a.push(o(e.storeNames[s]));i.all(a).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):i.reject("Invalid arguments"),t),r}};function ne(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function re(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var oe={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=ne(e,this._defaultConfig),re()?(this._dbInfo=t,t.serializer=J,i.resolve()):i.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,a=localStorage.length,i=1,s=0;s<a;s++){var l=localStorage.key(s);if(0===l.indexOf(r)){var u=localStorage.getItem(l);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,l.substring(o),i++)))return u}}}));return s(r,t),r},getItem:function(e,t){var n=this;e=u(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return s(r,t),r},setItem:function(e,t,n){var r=this;e=u(e);var o=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new i((function(o,a){var i=r._dbInfo;i.serializer.serialize(t,(function(t,r){if(r)a(r);else try{localStorage.setItem(i.keyPrefix+e,t),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||a(e),a(e)}}))}))}));return s(o,n),o},removeItem:function(e,t){var n=this;e=u(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return s(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return s(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return s(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return s(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var a=localStorage.key(o);0===a.indexOf(e.keyPrefix)&&r.push(a.substring(e.keyPrefix.length))}return r}));return s(n,e),n},dropInstance:function(e,t){if(t=c.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,o=this;return s(r=e.name?new i((function(t){e.storeName?t(ne(e,o._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):i.reject("Invalid arguments"),t),r}},ae=function(e,t){for(var n=e.length,r=0;r<n;){if((o=e[r])===(a=t)||"number"==typeof o&&"number"==typeof a&&isNaN(o)&&isNaN(a))return!0;r++}var o,a;return!1},ie=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},se={},le={},ue={INDEXEDDB:A,WEBSQL:te,LOCALSTORAGE:oe},ce=[ue.INDEXEDDB._driver,ue.WEBSQL._driver,ue.LOCALSTORAGE._driver],de=["dropInstance"],fe=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(de),pe={description:"",driver:ce.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function me(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function he(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(ie(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ye=new(function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ue)if(ue.hasOwnProperty(n)){var r=ue[n],o=r._driver;this[n]=o,se[o]||this.defineDriver(r)}this._defaultConfig=he({},pe),this._config=he({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new i((function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(o);for(var a=fe.concat("_initStorage"),l=0,u=a.length;l<u;l++){var c=a[l];if((!ae(de,c)||e[c])&&"function"!=typeof e[c])return void n(o)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=i.reject(t);return s(n,arguments[arguments.length-1]),n}},n=0,r=de.length;n<r;n++){var o=de[n];e[o]||(e[o]=t(o))}}();var d=function(n){se[r]&&console.info("Redefining LocalForage driver: "+r),se[r]=e,le[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,n):d(!!e._support):d(!0)}catch(e){n(e)}}));return l(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=se[e]?i.resolve(se[e]):i.reject(new Error("Driver not found."));return l(r,t,n),r},e.prototype.getSerializer=function(e){var t=i.resolve(J);return l(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return l(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;ie(e)||(e=[e]);var o=this._getSupportedDrivers(e);function a(){r._config.driver=r.driver()}function s(e){return r._extend(e),a(),r._ready=r._initStorage(r._config),r._ready}var u=null!==this._driverSet?this._driverSet.catch((function(){return i.resolve()})):i.resolve();return this._driverSet=u.then((function(){var e=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,a(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var o=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(s).catch(n)}a();var l=new Error("No available storage method found.");return r._driverSet=i.reject(l),r._driverSet}()}}(o)}))})).catch((function(){a();var e=new Error("No available storage method found.");return r._driverSet=i.reject(e),r._driverSet})),l(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!le[e]},e.prototype._extend=function(e){he(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=fe.length;e<t;e++)me(this,fe[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=ye},{3:3}]},{},[4])(4)},729:function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(e){"use strict";var t,n,r={template:"[%t] %l:",levelFormatter:function(e){return e.toUpperCase()},nameFormatter:function(e){return e||"root"},timestampFormatter:function(e){return e.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},format:void 0},o={},a={reg:function(e){if(!e||!e.getLogger)throw new TypeError("Argument is not a root logger");t=e},apply:function(e,n){if(!e||!e.setLevel)throw new TypeError("Argument is not a logger");var a=e.methodFactory,i=e.name||"",s=o[i]||o[""]||r;return o[i]||(e.methodFactory=function(e,t,n){var r=a(e,t,n),s=o[n]||o[""],l=-1!==s.template.indexOf("%t"),u=-1!==s.template.indexOf("%l"),c=-1!==s.template.indexOf("%n");return function(){for(var t="",a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];if(i||!o[n]){var p=s.timestampFormatter(new Date),m=s.levelFormatter(e),h=s.nameFormatter(n);s.format?t+=s.format(m,h,p):(t+=s.template,l&&(t=t.replace(/%t/,p)),u&&(t=t.replace(/%l/,m)),c&&(t=t.replace(/%n/,h))),d.length&&"string"==typeof d[0]?d[0]=t+" "+d[0]:d.unshift(t)}r.apply(void 0,d)}}),(n=n||{}).template&&(n.format=void 0),o[i]=function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(t in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],t)&&(e[t]=arguments[n][t]);return e}({},s,n),e.setLevel(e.getLevel()),t||e.warn("It is necessary to call the function reg() of loglevel-plugin-prefix before calling apply. From the next release, it will throw an error. See more: https://github.com/kutuluk/loglevel-plugin-prefix/blob/master/README.md"),e}};return e&&(n=e.prefix,a.noConflict=function(){return e.prefix===a&&(e.prefix=n),a}),a})?r.call(t,n,t,e):r)||(e.exports=o)},831:function(e,t,n){var r,o;!function(a,i){"use strict";void 0===(o="function"==typeof(r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function i(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?a:void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):e)}function s(t,n){for(var o=0;o<r.length;o++){var a=r[o];this[a]=o<t?e:this.methodFactory(a,t,n)}this.log=this.debug}function l(e,n,r){return function(){typeof console!==t&&(s.call(this,n,r),this[e].apply(this,arguments))}}function u(e,t,n){return i(e)||l.apply(this,arguments)}function c(e,n,o){var a,i=this;n=null==n?"WARN":n;var l="loglevel";function c(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===i.levels[e]&&(e=void 0),e}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),i.name=e,i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},i.methodFactory=o||u,i.getLevel=function(){return a},i.setLevel=function(n,o){if("string"==typeof n&&void 0!==i.levels[n.toUpperCase()]&&(n=i.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=i.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==o&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(e){}}}(n),s.call(i,n,e),typeof console===t&&n<i.levels.SILENT)return"No console available for logging"},i.setDefaultLevel=function(e){n=e,c()||i.setLevel(e,!1)},i.resetLevel=function(){i.setLevel(n,!1),function(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},i.enableAll=function(e){i.setLevel(i.levels.TRACE,e)},i.disableAll=function(e){i.setLevel(i.levels.SILENT,e)};var d=c();null==d&&(d=n),i.setLevel(d,!1)}var d=new c,f={};d.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new c(e,d.getLevel(),d.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=p),d},d.getLoggers=function(){return f},d.default=d,d})?r.call(t,n,t,e):r)||(e.exports=o)}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(1271),t=n.n(e);const r=()=>{throw new Error("cannot create element directly from params - running player in dumb mode")};window.__dumbStubs={elementParamsToPlaylistData:r,elementParamsToSpatialData:r};const o=()=>{const e=[];return{_items:e,addItem:t=>-1===e.indexOf(t)&&(e.push(t),!0),removeItem:t=>{const n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)},clearItems:()=>e.length=0,getItems:()=>e}};function a(){const e=o(),t=o();return{_listeners:e._items,_listenersOneshot:t._items,invoke:function(n){e.getItems().forEach((e=>e(n))),t.getItems().forEach((e=>e(n))),t.clearItems()},addListener:t=>e.addItem(t),addListenerOneshot:e=>t.addItem(e),removeListener:t=>e.removeItem(t),removeListenerOneshot:e=>t.removeItem(e)}}const i={displayName:"Volume",type:"number",default:1,max:10},s={detune:{displayName:"Detune",type:"number",default:0,min:-153600,max:153600,step:1},frequency:{displayName:"Frequency",type:"number",default:350,min:0,max:24e3,step:1},resonance:{displayName:"Resonance",type:"number",default:.5},gain:{displayName:"Shelf Gain",type:"number",default:0,min:-1541.273681640625,max:1541.273681640625}};let l=0;const u=(e,t=`My ${e} effect ${++l}`)=>Object.entries(c[e].parameters).reduce(((e,[t,n])=>({...e,[t]:JSON.parse(JSON.stringify(n.default))})),{name:t,type:e,output:"Global Volume"}),c={analyser:{displayName:"Analyser",parameters:{fftSize:{displayName:"fftSize",type:"number",default:128},maxDecibels:{displayName:"maxDecibels",type:"number",default:-30},minDecibels:{displayName:"minDecibels",type:"number",default:-100},smoothingTimeConstant:{displayName:"smoothingTimeConstant",type:"number",default:.8}}},compressor:{displayName:"Compressor",parameters:{attack:{displayName:"attack",type:"number",default:.003},knee:{displayName:"knee",type:"number",default:30},ratio:{displayName:"ratio",type:"number",default:12},release:{displayName:"release",type:"number",default:.25},threshold:{displayName:"threshold",type:"number",default:-24}}},convolver:{displayName:"Convolver",parameters:{url:{displayName:"URL",type:"string",default:"https://dl.dropboxusercontent.com/s/sjzu2078lg4bpwh/3000CStreetGarageStairwell.wav?dl=0"}}},delay:{displayName:"Delay",parameters:{falloff:{displayName:"Falloff",type:"number",default:.5},duration:{displayName:"Duration",type:"number",default:.5,max:1}}},send:{displayName:"Send",parameters:{wetness:{displayName:"Wetness",type:"number",default:.5},dryOutput:{displayName:"Dry Output",type:"audioReceive",default:"Global Volume"}}},volume:{displayName:"Volume",parameters:{volume:i,fadeDuration:{displayName:"Fade Duration",type:"number",default:1,min:0,max:5}}},spatial:{displayName:"Spatial",parameters:{position:{displayName:"Position",type:"vector3",default:{x:0,y:0,z:0}},speed:{displayName:"Speed",default:0,type:"number",max:1e3},panningModel:{displayName:"Panning Model",type:"select",default:"HRTF",options:{"Head Related TF":"HRTF","Equal Power":"equalpower"}},distanceModel:{displayName:"Distance Model",type:"select",default:"inverse",options:{Inverse:"inverse",Exponential:"exponential",Linear:"linear"}},minDistance:{displayName:"Min Distance",type:"number",default:0,max:1e3},maxDistance:{displayName:"Max Distance",type:"number",default:100,max:1e3},rolloff:{displayName:"Rolloff",type:"number",default:.5,max:100}}},filter:{displayName:"Filter",parameters:{...s,filterType:{displayName:"Filter Type",type:"select",default:"lowpass",options:{"Low Pass":"lowpass","High Pass":"highpass","Band Pass":"bandpass","All Pass":"allpass","Low Shelf":"lowshelf","High Shelf":"highshelf",Peaking:"peaking",Notch:"notch"}}}},reverb:{displayName:"Reverb",parameters:{duration:{displayName:"Duration",type:"number",default:1,max:5},preDelay:{displayName:"Pre Delay",type:"number",default:.03,max:1},attack:{displayName:"Attack",type:"number",default:.001,max:1},decay:{displayName:"Decay",type:"number",default:.1,max:1},lpCutoff:{displayName:"LP Cutoff",type:"number",default:2e3,max:24e3},lpResonance:{displayName:"LP Resonance",type:"number",default:.2,max:1},hpCutoff:{displayName:"HP Cutoff",type:"number",default:500,max:24e3},hpResonance:{displayName:"HP Resonance",type:"number",default:.1,max:1}}},freeverb:{displayName:"Freeverb",parameters:{roomSize:{displayName:"Room Size",type:"number",default:.9,max:1},dampening:{displayName:"Dampening",type:"number",default:6e3,step:20,max:2e4},preDelay:{displayName:"Predelay",type:"number",default:.01,max:1},lpFrequency:{...s.frequency,displayName:"LP Cutoff",default:2e3},hpFrequency:{...s.frequency,displayName:"HP Cutoff",default:600},lpResonance:{...s.resonance,displayName:"LP Resonance"},hpResonance:{...s.resonance,displayName:"HP Resonance"},gain:{...i,displayName:"Gain",default:.2}}}};var d=n(831),f=n.n(d),p=n(729),m=n.n(p);let h=0;const y=()=>h,v=e=>(e||Date.now())-h,g=v;m().reg(f()),m().apply(f(),{template:"[%t] %l (%n):",timestampFormatter:function(e){return new Date(g(e.getTime())).toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")}});const b={...f(),allSetLevel:(e,t=!0)=>{Object.values(f().getLoggers()).forEach((n=>n.setLevel(e,t)))},allResetLevel:()=>{Object.values(f().getLoggers()).forEach((e=>e.resetLevel()))}},w="http://browser-storage.syrinscape.com/",x=e=>{try{let t=new URL(e);t.hostname.includes("s3.amazonaws.com")&&t.search&&(t.search="",e=t.toString())}catch(t){e=`${w}${encodeURIComponent(e)}`}return e};var S=n(1466),T=n.n(S);const E=(e="database")=>{const t=T().createInstance({name:e,driver:T().INDEXEDDB,version:1}),n=e=>{if(e)throw new Error(`localForage error: ${e}`)};return{getItem:async e=>await t.getItem(x(e),n),setItem:async(e,r)=>await t.setItem(x(e),r,n),removeItem:async e=>await t.removeItem(x(e),n),clear:t.clear,getKeys:t.keys}},C=b.getLogger("storageDatabase"),D=(e="database")=>{let t;return"caches"in self?(C.info(`Using Cache API for storage database: ${e}`),t=((e="database")=>{let t=caches.open(e);return{getItem:async e=>{const n=await t,r=await n.match(new Request(x(e)));return r?r.blob():null},setItem:async(e,n)=>{const r=await t;await r.put(new Request(x(e)),new Response(n,{headers:{"Content-Length":n.size.toString()}}))},removeItem:async e=>{const n=await t;await n.delete(new Request(x(e)))},clear:async()=>{await t,await caches.delete(e),t=caches.open(e)},getKeys:async()=>{const e=await t;return(await e.keys()).map((e=>{return 0===(t=e.url).indexOf(w)&&(t=decodeURIComponent(t.substring(w.length))),t;var t}))}}})(e),E(e).clear()):(C.info(`Using IndexedDB for cache database: ${e}`),t=E(e)),t},_=D(),k=()=>{const e=URL.createObjectURL(new Blob),[t]=e.toString().split("/").reverse();return URL.revokeObjectURL(e),t},N=b.getLogger("player"),A=(()=>{var e,t,n,r,o,a;const i=new URLSearchParams(location.search);let s,l,u=()=>{if(void 0===l)throw Error("Unable to access config. Call 'await syrinscape.config.init()' first.")},c={},d=(e,t="")=>{u();let n=c[`${l}.${e}`];return void 0===n?t:n},f=async(e,t="")=>{u(),e=`${l}.${e}`;let n=await _.getItem(`config.${e}`);return c[e]=null!==n?JSON.parse(await new Response(n).text()):t,c[e]},p=async(e,t)=>(u(),c[e=`${l}.${e}`]=t,await _.setItem(`config.${e}`,new Blob([JSON.stringify(t||"")])));const m={httpProtocol:null!==(e=i.get("httpProtocol"))&&void 0!==e?e:"https",httpHostname:null!==(t=i.get("httpHostname"))&&void 0!==t?t:"syrinscape.com",httpPort:null!==(n=i.get("httpPort"))&&void 0!==n?n:"443",wsProtocol:null!==(r=i.get("wsProtocol"))&&void 0!==r?r:"https".replace("http","ws"),wsHostname:null!==(o=i.get("wsHostname"))&&void 0!==o?o:"syrinscape.com",wsPort:null!==(a=i.get("wsPort"))&&void 0!==a?a:"443",postMessageToken:k(),postMessageWindow:window.parent!==window?window.parent:null,init:async(e="default",t={})=>{if(void 0!==l)return;l=e,await Promise.all(Object.entries(t).map((([e,t])=>p(e,t))));let n=await f("token"),r=`${m.httpProtocol}://app.${m.httpHostname}/config/`,o={headers:{Accept:"application/json",Authorization:`Token ${n}`}},a=await fetch(r,o);if(a.ok){let e=await a.json();m.wsHostname=e.hostname,await f("deviceName")||await p("deviceName",e.device_name),await p("sessionId",e.session_id),await p("token",e.token),await f("lastLocalVolume",1),await f("localVolume",1),await f("visualisationFramerate",30)}else N.warn(`HTTP ${a.status}: Unable to get config.`)},get audioContext(){return null!=s||(s=new AudioContext),s},set audioContext(e){if(void 0!==s)throw Error("An audio context already exists, and cannot be reassigned.");s=e},get deviceName(){return d("deviceName")},set deviceName(e){p("deviceName",e)},get lastLocalVolume(){return d("lastLocalVolume")},set lastLocalVolume(e){if(NaN===Number(e))throw Error(`Invalid lastLocalVolume: ${e}`);p("lastLocalVolume",e)},get localVolume(){return d("localVolume")},set localVolume(e){if(NaN===Number(e))throw Error(`Invalid localVolume: ${e}`);p("localVolume",e)},get sessionId(){return d("sessionId")},set sessionId(e){p("sessionId",e)},get token(){return d("token")},set token(e){p("token",e)},get visualisationFramerate(){return d("visualisationFramerate")},set visualisationFramerate(e){if("number"!=typeof e||e<=0)throw Error(`Invalid visualisationFramerate: ${e}`);p("visualisationFramerate",e)}};return m})();var I;null!==(I=window.syrinscape)&&void 0!==I||(window.syrinscape={config:A,log:b});const L=window.syrinscape,j=L,R=(e,t=e)=>({input:e,output:t,connect:e=>t.connect(e.input),disconnectAll:()=>{e.disconnect(),t.disconnect()}}),P=e=>0!==e,M=(e={})=>{(e=Object.assign(u("analyser"),e)).isDestination&&(e.output=void 0);const t=new AnalyserNode(j.config.audioContext,e);let n,r,o,a;const i={params:e,setParam:{minDecibels:e=>t.minDecibels=e,maxDecibels:e=>t.maxDecibels=e,smoothingTimeConstant:e=>t.smoothingTimeConstant=e,fftSize:e=>t.fftSize=e},...R(t),getData:()=>({...i.getFrequencyData(),...i.getTimeDomainData()}),getFrequencyData:()=>{const e=new Uint8Array(t.frequencyBinCount);return t.getByteFrequencyData(e),o={frequencyData:e,frequencyBinCount:t.frequencyBinCount},o},getTimeDomainData:()=>{const e=new Float32Array(t.fftSize);return t.getFloatTimeDomainData(e),a={timeDomainData:e,fftSize:t.fftSize},a},get isActive(){return(null==o?void 0:o.frequencyData.some(P))||(null==a?void 0:a.timeDomainData.some(P))},get lastData(){return{...o,...a}},lastFrequencyData:o,lastTimeDomainData:a,startVisualisation:e=>{e&&(r=e);const o=()=>{n=requestAnimationFrame(o);const e=new Uint8Array(t.frequencyBinCount),a=new Float32Array(t.fftSize);t.getByteFrequencyData(e),t.getFloatTimeDomainData(a),r({frequencyData:e,timeDomainData:a,fftSize:t.fftSize,frequencyBinCount:t.frequencyBinCount})};requestAnimationFrame(o)},stopVisualisation:()=>{cancelAnimationFrame(n),n=0}};return i};class O{constructor(e,t){this.data=t,this.id=e,this.next=null,this.prev=null}}class F{constructor(e=1/0){this._size=0,this.positions=new Map,this.head=null,this.tail=null,this.limit=e}get size(){return this._size}set size(e){this._size=e,this._size>this.limit&&this.removeExcessNodes()}get(e){const t=this.positions.get(e);if(t){const e=this.moveToHead(t);return e?e.data:null}return null}remove(e){if(!this.head)return null;const t=this.positions.get(e);if(!t)return null;const n=t.prev,r=t.next;return n&&r?(n.next=r,r.prev=n,this.positions.delete(e),this.size--,t):n&&!r?(n.next=null,this.tail=n,this.positions.delete(e),this.size--,t):!n&&r?(r.prev=null,this.head=r,this.positions.delete(e),this.size--,t):n||r?null:(this.head=null,this.tail=null,this.positions.delete(e),this.size--,t)}has(e){return!!this.positions.has(e)}keys(){return Array.from(this.positions.keys())}moveToHead(e){const t=this.remove(e.id);return t?this.addNodeToHead(t.id,t.data):null}addNodeToHead(e,t){if(this.positions.has(e))return this.moveToHead(this.positions.get(e));if(this.head){let n=this.head;const r=new O(e,t);return r.next=n,r.prev=null,n.prev=r,this.head=r,this.positions.set(e,r),this.size++,r}{const n=new O(e,t);return this.head=n,this.tail||(this.tail=n),this.positions.set(e,n),this.size++,n}}removeExcessNodes(){const e=this.size-this.limit;this.removeNodes(e)}removeNodes(e=1){for(let t=0;t<e;t++)this.removeTailNode()}removeTailNode(){if(!this.tail)return null;let e=this.tail,t=this.tail;return this.positions.delete(t.id),this.size--,t=t.prev,t?t.next=null:this.head=null,this.tail=t,e}}const q=b.getLogger("lruCache");function $(){const e=new F(1/0);let t=!1;const n=e=>{t!==e&&e&&q.debug("Set LRU cache dirty."),t=e};return{get isDirty(){return t},setDirty:n,cache:e,get:function(t){return e.get(x(t))||null},set:function(t,r){return n(!0),e.addNodeToHead(x(t),r),!0},removeByCount:function(t){return n(!0),e.removeNodes(t),!0},removeByKey:function(t){return n(!0),e.remove(x(t))},removeOne:function(){return n(!0),e.removeTailNode()},has:function(t){return e.has(x(t))},size:function(){return e.size},keys:function(){return e.keys()},clear:function(){n(!0);const t=e.limit;e.limit=0,e.size=0,e.limit=t},toJSON:function(){if(0===e.size)return JSON.stringify([]);const t=[];let n=e.tail;for(;n;)t.push({id:n.id,data:n.data}),n=n.prev;return JSON.stringify(t)}}}const z=$;function V(e,t=2){if(0===e)return"0 Bytes";const n=t<0?0:t,r=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,r)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}const H=(e,t,n=Math.random)=>e+(t-e)*n(),B=(Math.PI,Math.PI,e=>.001*e);var G,W,U=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),X=(G=["",""],W=["",""],Object.freeze(Object.defineProperties(G,{raw:{value:Object.freeze(W)}})));function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}const J=function(){function e(){for(var t=this,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return Q(this,e),this.tag=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return"function"==typeof e?t.interimTag.bind(t,e):"string"==typeof e?t.transformEndResult(e):(e=e.map(t.transformString.bind(t)),t.transformEndResult(e.reduce(t.processSubstitutions.bind(t,r))))},r.length>0&&Array.isArray(r[0])&&(r=r[0]),this.transformers=r.map((function(e){return"function"==typeof e?e():e})),this.tag}return U(e,[{key:"interimTag",value:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return this.tag(X,e.apply(void 0,[t].concat(r)))}},{key:"processSubstitutions",value:function(e,t,n){var r=this.transformSubstitution(e.shift(),t);return"".concat(t,r,n)}},{key:"transformString",value:function(e){return this.transformers.reduce((function(e,t){return t.onString?t.onString(e):e}),e)}},{key:"transformSubstitution",value:function(e,t){return this.transformers.reduce((function(e,n){return n.onSubstitution?n.onSubstitution(e,t):e}),e)}},{key:"transformEndResult",value:function(e){return this.transformers.reduce((function(e,t){return t.onEndResult?t.onEndResult(e):e}),e)}}]),e}();var K={separator:"",conjunction:"",serial:!1};const Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;return{onSubstitution:function(t,n){if(Array.isArray(t)){var r=t.length,o=e.separator,a=e.conjunction,i=e.serial,s=n.match(/(\n?[^\S\n]+)$/);if(t=s?t.join(o+s[1]):t.join(o+" "),a&&r>1){var l=t.lastIndexOf(o);t=t.slice(0,l)+(i?o:"")+" "+a+t.slice(l+1)}}return t}}};function Z(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}const ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(t){if("initial"===e){var n=t.match(/^[^\S\n]*(?=\S)/gm),r=n&&Math.min.apply(Math,Z(n.map((function(e){return e.length}))));if(r){var o=new RegExp("^.{"+r+"}","gm");return t.replace(o,"")}return t}if("all"===e)return t.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};new J(Y({separator:","}),ee,te),new J(Y({separator:",",conjunction:"and"}),ee,te),new J(Y({separator:",",conjunction:"or"}),ee,te);const ne=function(e){return{onSubstitution:function(t,n){if(null==e||"string"!=typeof e)throw new Error("You need to specify a string character to split by.");return"string"==typeof t&&t.includes(e)&&(t=t.split(e)),t}}};var re=function(e){return null!=e&&!Number.isNaN(e)&&"boolean"!=typeof e};const oe=new J(ne("\n"),(function(){return{onSubstitution:function(e){return Array.isArray(e)?e.filter(re):re(e)?e:""}}}),Y,ee,te),ae=function(e,t){return{onSubstitution:function(n,r){if(null==e||null==t)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==n?n:n.toString().replace(e,t)}}};new J(ne("\n"),Y,ee,te,ae(/&/g,"&amp;"),ae(/</g,"&lt;"),ae(/>/g,"&gt;"),ae(/"/g,"&quot;"),ae(/'/g,"&#x27;"),ae(/`/g,"&#x60;"));const ie=function(e,t){return{onEndResult:function(n){if(null==e||null==t)throw new Error("replaceResultTransformer requires at least 2 arguments.");return n.replace(e,t)}}},se=new J(ie(/(?:\n(?:\s*))+/g," "),te);new J(ie(/(?:\n\s*)/g,""),te),new J(Y({separator:","}),ie(/(?:\s+)/g," "),te),new J(Y({separator:",",conjunction:"or"}),ie(/(?:\s+)/g," "),te),new J(Y({separator:",",conjunction:"and"}),ie(/(?:\s+)/g," "),te),new J(Y,ee,te),new J(Y,ie(/(?:\s+)/g," "),te),new J(ee,te),new J(ee("all"),te);const le=b.getLogger("compositeDatabase"),ue=5e7,ce=b.getLogger("blobDatabase"),de=(({fetchMethod:e}={})=>{null!=e||(e=window.fetch),navigator.storage&&(navigator.storage.persist&&navigator.storage.persist().then((function(e){e?ce.info("Storage is persistent. Will not be cleared except by explicit user action."):ce.info("Storage is temporary. May be cleared by the UA under storage pressure.")})),(async()=>{if(navigator.storage.estimate){const e=await navigator.storage.estimate();ce.info(`Storage limit: ${V(e.quota)}`),ce.info(se`
					Storage used: ${V(e.usage)}
					(${(e.usage/e.quota*100).toFixed(2)}%)
				`)}})());const t=D("blob-cache"),n=((e,t=!0)=>{const n=t?async()=>{}:async()=>console.warn("'get' database is immutable");return{getItem:n,setItem:n,clear:n,removeItem:n,getKeys:()=>{n();const e=[];return new Promise((t=>t(e)))},...e}})({getItem:async t=>{o._onFetch(t);const n=await e(t);if(200!==n.status)throw new Error(`bad response: ${n}`);return await n.blob()}},!0),r=(e=>{const t=async t=>{await Promise.all(e.map(t))},n=async(t,n,r)=>{const o=e.slice(n,r).map(t);await Promise.all(o)};let r;const o="lruCacheBackup",a=async e=>{var t;let n;if(null===(t=navigator.storage)||void 0===t?void 0:t.estimate){const t=await navigator.storage.estimate();if(n=e+(t.usage-t.quota),n<0)return;let o=0,a=0;for(;o<n;){const e=r.removeOne();if(!e){le.debug("Nothing left in LRU cache to remove.");break}le.debug(`Removed LRU item: ${e.id}`),await i.removeItem(e.id),o+=e.data.size,a+=1}a>0&&le.warn(oe`
					Removed ${a} LRU items from cache database to free ${V(o)}.
						storage limit: ${V(t.quota)}
						storage used: ${se`
							${V(t.usage)}
							(${(t.usage/t.quota*100).toFixed(2)}%)
						`}
				`)}},i={getItem:async t=>{for(let o=0;o<e.length;o++){const i=await e[o].getItem(t);if(i)return n((async e=>{await a(ue),await e.setItem(t,i),r.set(t,{size:i.size,timestamp:v()})}),0,o),i}return null},setItem:(e,t)=>{throw new Error("Not implemented.")},removeItem:async e=>{await t((async t=>await t.removeItem(e))),r.removeByKey(e)},clear:async()=>{await t((e=>e.clear())),r.clear()},getKeys:async()=>{const e=new Set;return await t((async t=>(await t.getKeys()).forEach((t=>e.add(t))))),Array.from(e)}};return(async()=>{r=await(async()=>{const t=await e[0].getItem(o);return null===t?(le.info("Create new LRU cache."),z()):(le.info("Restore LRU cache from backup."),function(e){const t=$();return JSON.parse(e).forEach((e=>{t.set(e.id,e.data)})),t}(await new Response(t).text()))})(),(async()=>{const e=r.keys(),t=(await i.getKeys()).filter((t=>t!==o&&!e.includes(t)));t.forEach((async e=>{const t=await i.getItem(e);r.set(e,{size:t.size,timestamp:v()}),le.debug(oe`
					Restored item found in cache database but missing from LRU cache.
						key: ${e}
				`)})),t.length&&le.info(se`
					Restored ${t.length} items found in cache database but missing from
					LRU cache.
				`)})(),window.setInterval((async()=>{if(r.isDirty){const t=e[0],n=new Blob([r.toJSON()]);await a(ue),le.debug(`LRU cache is dirty. Backup. Size: ${r.size} items`),await t.setItem(o,n),r.setDirty(!1)}}),5e3)})(),i})([t,n]),o={getBlob:e=>r.getItem(e),_onFetch:e=>{},_localDatabase:t,_remoteDatabase:n,_compositeDatabase:r};return o})(),fe=(e={})=>{e=Object.assign(u("send"),e);const t=j.config.audioContext.createGain(),n=j.config.audioContext.createGain(),r=j.config.audioContext.createGain(),o={params:e,...R(t,n),connectFromMap:t=>r.connect(t[e.dryOutput].input),setWet:e=>{n.gain.value=e,r.gain.value=1-e},getWet:()=>n.gain.value,setParam:{wetness:e=>o.setWet(e)},_input:t,_wet:n,_dry:r};return t.connect(n),t.connect(r),o.setWet(e.wetness),o},pe=(b.getLogger("audioEffectSystem"),(e={})=>{e=Object.assign(u("spatial"),e);const t=new PannerNode(j.config.audioContext,{panningModel:e.panningModel,distanceModel:e.distanceModel,rolloffFactor:e.rolloff,refDistance:e.minDistance,maxDistance:e.maxDistance}),n={params:e,...R(t),setPosition:e=>{t.positionX.value=e.x||0,t.positionY.value=e.y||0,t.positionZ.value=e.z||0},getPosition:()=>({x:t.positionX.value,y:t.positionY.value,z:t.positionZ.value}),setVelocity:function(e,n){t.positionX.linearRampToValueAtTime(t.positionX.value+e.x*n,j.config.audioContext.currentTime+n),t.positionY.linearRampToValueAtTime(t.positionY.value+e.y*n,j.config.audioContext.currentTime+n),t.positionZ.linearRampToValueAtTime(t.positionZ.value+e.z*n,j.config.audioContext.currentTime+n)},setParam:{position:e=>n.setPosition(e)},node:t};return n.setPosition(e.position),n}),me=e=>new Promise((t=>setTimeout(t,e))),he=(e,t)=>({x:e.x+t.x,y:e.y+t.y,z:e.z+t.z}),ye=e=>Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z),ve=(e,t)=>({x:e.x*t,y:e.y*t,z:e.z*t}),ge=(e,t,n)=>e+(t-e)*n,be={linear:e=>e,easeIn:e=>1-Math.cos(e*Math.PI*.5),easeOut:e=>Math.sin(e*Math.PI*.5)},we=(e={})=>{(e=Object.assign(u("volume"),e)).isDestination&&(e.output=void 0);const t=new GainNode(j.config.audioContext,{gain:e.volume}),n=e=>{const t=30*e-30;return-30==t?0:Math.pow(10,t/20)};return{params:e,...R(t),get value(){return e=t.gain.value,1-20*Math.log10(e)/-30;var e},set value(e){t.gain.cancelScheduledValues(j.config.audioContext.currentTime),t.gain.value=n(e)},fadeToValue:async(r,o=e.fadeDuration,a)=>{((e,t,n,r,o)=>{null!=o||(o="easeOut"),0===r&&(r=.001);const a=[],i=e.value,s=be[o];for(let e=0;e<32;e++){const n=s(e/31);a.push(ge(i,t,n))}e.cancelScheduledValues(n),e.setValueCurveAtTime(a,n,r)})(t.gain,n(r),j.config.audioContext.currentTime,o,a),await me(1e3*o)},setParam:{volume:e=>t.gain.value=e,fadeDuration:t=>e.fadeDuration=t}}};class xe{constructor(e){this.name="effect",this.context=e,this.input=this.context.createGain(),this.effect=null,this.bypassed=!1,this.output=this.context.createGain(),this.setup(),this.wireUp()}setup(){this.effect=this.context.createGain()}wireUp(){this.input.connect(this.effect),this.effect.connect(this.output)}connect(e){this.output.connect(e)}}class Se{constructor(e,t=1){this.context=e,this.output=this.context.createGain(),this.output.gain.value=t,this.partials=[],this.velocity=0,this.gain=t,this._attack=0,this._decay=.001,this._sustain=this.output.gain.value,this._release=.001}on(e){this.velocity=e/127,this.start(this.context.currentTime)}off(e){return this.stop(this.context.currentTime)}start(e){this.output.gain.value=0,this.output.gain.setValueAtTime(0,e),this.output.gain.setTargetAtTime(1,e,this.attack+1e-5),this.output.gain.setTargetAtTime(this.sustain*this.velocity,e+this.attack,this.decay)}stop(e){this.sustain=this.output.gain.value,this.output.gain.cancelScheduledValues(e),this.output.gain.setValueAtTime(this.sustain,e),this.output.gain.setTargetAtTime(0,e,this.release+1e-5)}set attack(e){this._attack=e}get attack(){return this._attack}set decay(e){this._decay=e}get decay(){return this._decay}set sustain(e){this.gain=e,this._sustain}get sustain(){return this.gain}set release(e){this._release=e}get release(){return this._release}connect(e){this.output.connect(e)}}class Te extends class{constructor(e,t="sawtooth",n=.1){this.context=e,this.type=t,this.value=-1,this.gain=n,this.output=this.context.createGain(),this.partials=[],this.output.gain.value=this.gain,this.ampEnvelope=new Se(this.context),this.ampEnvelope.connect(this.output)}init(){const e=this.context.createOscillator();e.type=this.type,e.connect(this.ampEnvelope.output),e.start(this.context.currentTime),this.partials.push(e)}on(e){this.value=e.value,this.partials.forEach((t=>{t.frequency.value=e.frequency})),this.ampEnvelope.on(e.velocity||e)}off(e){this.ampEnvelope.off(e),this.partials.forEach((e=>{e.stop(this.context.currentTime+4*this.ampEnvelope.release)}))}connect(e){this.output.connect(e)}set detune(e){this.partials.forEach((t=>t.detune.value=e))}set attack(e){this.ampEnvelope.attack=e}get attack(){return this.ampEnvelope.attack}set decay(e){this.ampEnvelope.decay=e}get decay(){return this.ampEnvelope.decay}set sustain(e){this.ampEnvelope.sustain=e}get sustain(){return this.ampEnvelope.sustain}set release(e){this.ampEnvelope.release=e}get release(){return this.ampEnvelope.release}}{constructor(e,t){super(e,t),this._length=2}get length(){return this._length||2}set length(e){this._length=e}init(){const e=new Float32Array(this.length*this.context.sampleRate),t=new Float32Array(this.length*this.context.sampleRate);for(let n=0;n<this.length*this.context.sampleRate;n++)e[n]=1-2*Math.random(),t[n]=1-2*Math.random();const n=this.context.createBuffer(2,this.length*this.context.sampleRate,this.context.sampleRate);n.copyToChannel(e,0),n.copyToChannel(t,1);const r=this.context.createBufferSource();r.buffer=n,r.loop=!0,r.loopStart=0,r.loopEnd=2,r.start(this.context.currentTime),r.connect(this.ampEnvelope.output),this.partials.push(r)}on(e){this.value=e.value,this.ampEnvelope.on(e.velocity||e)}}class Ee extends xe{constructor(e,t="lowpass",n=1e3,r=.9){super(e),this.name="filter",this.effect.frequency.value=n,this.effect.Q.value=r,this.effect.type=t}setup(){this.effect=this.context.createBiquadFilter(),this.effect.connect(this.output),this.wireUp()}}class Ce extends xe{constructor(e){super(e),this.name="AdvancedReverb"}setup({duration:e,preDelay:t,attack:n,decay:r}={}){null!=e||(e=1),null!=t||(t=.03),null!=n||(n=.001),null!=r||(r=.1),this.effect=this.context.createConvolver(),this.duration=e,this.attack=n,this.decay=r,this.release=e,this.preDelay=this.context.createDelay(e),this.preDelay.delayTime.setValueAtTime(t,this.context.currentTime),this.multitap=[];for(let t=2;t>0;t--)this.multitap.push(this.context.createDelay(e));this.multitap.map(((e,n)=>{this.multitap[n+1]&&e.connect(this.multitap[n+1]),e.delayTime.setValueAtTime(.001+n*(t/2),this.context.currentTime)})),this.multitapGain=this.context.createGain(),this.multitap[this.multitap.length-1].connect(this.multitapGain),this.multitapGain.gain.value=.2,this.multitapGain.connect(this.output),this.wet=this.context.createGain(),this.wet.gain.value=1,this.input.connect(this.wet),this.wet.connect(this.preDelay),this.wet.connect(this.multitap[0]),this.preDelay.connect(this.effect),this.effect.connect(this.output)}renderTail({lpCutoff:e,lpResonance:t,hpCutoff:n,hpResonance:r}={}){null!=e||(e=2e3),null!=t||(t=.2),null!=n||(n=500),null!=r||(r=.1);const o=new OfflineAudioContext(2,this.context.sampleRate*this.duration,this.context.sampleRate);o.oncomplete=e=>this.effect.buffer=e.renderedBuffer;const a=new Te(o,1),i=new Ee(o,"lowpass",e,t),s=new Ee(o,"highpass",n,r);a.init(),a.connect(s.input),s.connect(i.input),i.connect(o.destination),a.attack=this.attack,a.decay=this.decay,a.release=this.release,o.startRendering(),a.on({frequency:500,velocity:1}),setTimeout((()=>a.off()),20)}set decayTime(e){const t=e/3;this.duration=e,this.attack=0,this.decay=0,this.release=t,this.renderTail()}}var De=n(5356),_e=n.n(De);const ke={volume:we,analyser:M,compressor:(e={})=>{(e=Object.assign(u("compressor"),e)).isDestination&&(e.output=void 0);const t=new DynamicsCompressorNode(j.config.audioContext,e);return{params:e,setParam:{},...R(t)}},convolver:async(e={})=>{e=Object.assign(u("convolver"),e);const t=await de.getBlob(e.url),n=await t.arrayBuffer(),r=await j.config.audioContext.decodeAudioData(n),o=j.config.audioContext.createConvolver();return o.buffer=r,{...R(o),params:e,setParam:{}}},send:fe,delay:e=>{e=Object.assign(u("delay"),e);const t=j.config.audioContext.createDelay(c.delay.parameters.duration.max);t.delayTime.value=e.duration;const n=j.config.audioContext.createGain();return n.gain.value=e.falloff,t.connect(n),n.connect(t),{params:e,...R(n,t),setParam:{duration:e=>t.delayTime.value=e,falloff:e=>n.gain.value=e}}},spatial:pe,filter:e=>{e=Object.assign(u("filter"),e);const t=j.config.audioContext.createBiquadFilter();t.type=e.filterType,t.Q.value=e.resonance,t.detune.value=e.detune,t.gain.value=e.gain,t.frequency.value=e.frequency;const n=j.config.audioContext.createGain(),r=j.config.audioContext.createGain();return n.connect(t),t.connect(r),{params:e,...R(n,r),setParam:{filterType:e=>t.type=e,resonance:e=>t.Q.value=e,detune:e=>t.detune.value=e,gain:e=>t.gain.value=e,frequency:e=>t.frequency.value=e}}},reverb:e=>{e=Object.assign(u("reverb"),e);const t=new Ce(j.config.audioContext);return t.setup({...e}),t.renderTail({...e}),{params:e,...R(t.input,t.output),setParam:{}}},freeverb:e=>{e=Object.assign(u("freeverb"),e);const t=j.config.audioContext.createDelay(c.freeverb.parameters.preDelay.max);t.delayTime.value=e.preDelay;const n=_e()(j.config.audioContext);n.wet.value=1,n.dry.value=0,n.roomSize=e.roomSize,n.dampening=e.dampening;const r=j.config.audioContext.createBiquadFilter();r.type="highpass",r.frequency.value=e.hpFrequency,r.Q.value=e.hpResonance;const o=j.config.audioContext.createBiquadFilter();o.type="lowpass",o.frequency.value=e.lpFrequency,o.Q.value=e.lpResonance;const a=j.config.audioContext.createGain();return a.gain.value=e.gain,t.connect(n),n.connect(r),r.connect(o),o.connect(a),{params:e,...R(t,a),setParam:{preDelay:e=>t.delayTime.value=e,dampening:e=>n.dampening=e,roomSize:e=>n.roomSize=e,hpFrequency:e=>r.frequency.value=e,hpResonance:e=>r.Q.value=e,lpFrequency:e=>o.frequency.value=e,lpResonance:e=>o.Q.value=e,gain:e=>a.gain.value=e}}}},Ne=b.getLogger("urlSystem"),Ae=()=>{const e=e=>e?`:${e}`:"";return{replaceLocalDomainAndPort:t=>{const n=t.replace(RegExp("://[^/]*(localhost|lvh.me)[^/]+"),`://${j.config.httpHostname}${e(j.config.httpPort)}`);return n!==t&&Ne.warn(`replaceLocalDomainAndPort(): ${t} => ${n}`),n},createUrlHttp:(t,n="")=>`${j.config.httpProtocol}://${(e=>e?`${e}.`:"")(n)}${j.config.httpHostname}${e(j.config.httpPort)}/${t}`,createUrlWs:t=>`${j.config.wsProtocol}://${j.config.wsHostname}${e(j.config.wsPort)}/${t}`}},Ie=(Ae(),b.getLogger("audioSystem")),Le=e=>{const t={};return{getOrUndefined:e=>t[e],getOrCreate:n=>(t[n]||(t[n]=e(n)),t[n])}},je=(()=>{const e=Le(a),t=a();return window.addEventListener("message",(n=>{var r;let{message:o,params:a,token:i}=n.data;if(i!==j.config.postMessageToken)return;let s={message:o,params:a};t.invoke(s),null===(r=e.getOrUndefined(s.message))||void 0===r||r.invoke(s)})),{onMessage:t=>e.getOrCreate(t),onAnyMessage:t,sendMessage:(e,t)=>{if(!j.config.postMessageWindow)return;let n={message:e,params:t,token:j.config.postMessageToken};j.config.postMessageWindow.postMessage(n,"*")}}})();var Re;class Pe{constructor(e,t){this.listeners=[],t&&this.listeners.push(t),this.eventName=`syrinscape.${e}`}addListener(e){return this.listeners.push(e),document.addEventListener(this.eventName,e),()=>{document.removeEventListener(this.eventName,e)}}delete(){this.listeners.forEach((e=>{document.removeEventListener(this.eventName,e)})),delete L.events[this.eventName]}dispatch(e){const t=new CustomEvent(this.eventName,{detail:e||null});document.dispatchEvent(t),je.sendMessage("syrinscape.dispatchEvent",{eventName:this.eventName,eventDetail:e})}}null!==(Re=L.events)&&void 0!==Re||(L.events={}),L.events;const Me=(()=>{je.onMessage("syrinscape.dispatchEvent").addListener((e=>{const t=new CustomEvent(e.params.eventName,{detail:e.params.detail||null});document.dispatchEvent(t)}));let e=e=>(void 0===L.events[e]&&(L.events[e]=new Pe(e)),L.events[e]);return{add:(t,n)=>e(t).addListener(n),delete:e=>{L.events[e]&&L.events[e].delete()},dispatch:(t,n)=>{e(t).dispatch(n)}}})();Me.add("setLocalVolume");const Oe=b.getLogger("audioSystem");Error,Error,Error;class Fe extends Error{constructor(e){super(),this.name="StatusError",this.message=`request returned a ${e} status`}}Error;const qe=b.getLogger("controlSystem"),$e=e=>JSON.parse(JSON.stringify(e)),ze=(e,t)=>parseFloat(t)||e,Ve=e=>ze(0,e),He=e=>ze(1,e),Be=e=>1e3*Ve(e),Ge=e=>{return{title:e.name,playlistParams:We(e),type:(t=e.type,t||"sfx"),presetName:e.reverb_preset,elementId:Qe(e.id),spatialParams:Ue(e)};var t},We=e=>{const t=Be(e.min_wait),n=Be(e.max_wait),r=e.playlist_order,o=((e,t)=>e<0&&t<0&&Math.abs(t-e)<.001)(t,n);return{order:r,loop:o,repeat:o||(e=>"oneshot"!==e.type&&("random"===e.playlist_order||!1!==e.repeat_playlist))(e),sampleDelayMin:t,sampleDelayMax:n,sampleDelayPos:e.allow_samples_to_overlap?"start":"end",elementDelayMin:Be(e.min_start_delay),elementDelayMax:Be(e.max_start_delay),sampleParamsList:e.playlist?e.playlist.map(Xe):[]}},Ue=e=>{var t;if(null!==(t=e.position_samples)&&void 0!==t||(e.position_samples=!0),e.position_samples)return{minDist:Ve(e.min_distance),maxDist:Ve(e.max_distance),minAngle:Ve(e.min_angle),maxAngle:Ve(e.max_angle),speed:Ve(e.speed)}},Xe=e=>{return{spatializable:(t=e.is_3d,!0,!0===t||!1!==t&&true),name:e.name,duration:Be(e.len),url:e.url,sampleId:Je(e.s_id||e.id),minGain:He(e.min_gain),maxGain:He(e.max_gain)};var t},Qe=e=>e&&Number(e.replace("e_","")),Je=e=>e&&Number(e.replace("s_","")),Ke=(e,t)=>[...e.getRaw()].filter((([e,n])=>n.elementId===t)),Ye=__dumbStubs;Me.add("startElement");const Ze=b.getLogger("elementSpawnSystem");let et=0,tt=0,nt=0;const rt=()=>{const e=new Map,t=a();return{getRaw:()=>e,get:()=>e,update:()=>t.invoke(e),onUpdate:t,mutate:n=>{n(e),t.invoke(e)},tryMutate:n=>{n(e)&&t.invoke(e)}}},ot=({prefix:e}={})=>{e=e||Math.random().toFixed(8);let t=0;return{nextId:()=>`${e}-${t++}`}},at=b.getLogger("sampleSpawnSystem"),it=({audioSystem:e,uuidSystem:t})=>{t=t||ot();const n=rt(),r=(({audioSystem:e,uuidSystem:t,sampleMap:n})=>{const{effectSystem:r}=e;t=null!=t?t:ot();const o={spawnSampleFromParams:({params:e,startTime:n,wetOut:r,dryOut:a})=>{const i={...e,volume:H(e.minGain,e.maxGain),uuid:t.nextId(),startTime:null!=n?n:g()};return o.spawnSampleFromData({data:i,wetOut:r,dryOut:a})},spawnSampleFromData:({data:o,wetOut:i,dryOut:s,fadeOptions:l})=>{var u,c,d,f,p;const m=r.preset(o.presetName);null!=i||(i=r.effect(null==m?void 0:m.effect)),"Off"===o.presetName&&(i=void 0),null!=s||(s=r.globalVolume);const{spatialData:h,volume:y,startTime:v}=o;let b,w;if(null!==(u=o.uuid)&&void 0!==u||(o.uuid=t.nextId()),h){const e=null!==(c=null==m?void 0:m.drySpatializer)&&void 0!==c?c:r.defaultPreset.drySpatializer;w=pe(e),w.connect(s),s=w}if(h&&i){const e=null!==(d=null==m?void 0:m.wetSpatializer)&&void 0!==d?d:r.defaultPreset.wetSpatializer;b=pe(e),b.connect(i),b.setPosition({x:0,y:0,z:ye(h.position)}),i=b}let x=s;if(h&&i){const e=fe();e._wet.connect(i.input),e._dry.connect(s.input);const t=null!==(f=null==m?void 0:m.wetGain)&&void 0!==f?f:r.defaultPreset.wetGain,n=null!==(p=null==m?void 0:m.dryGain)&&void 0!==p?p:r.defaultPreset.dryGain;e._wet.gain.value=t,e._dry.gain.value=n,x=e}const S=e.createAudioSource(o.url,x,l,y);let T;const E={...o,alive:!0,isPlaying:!1,audioSource:S,onDispose:a(),dispose:async()=>{var e,t;E.alive?(at.debug(oe`
						sampleInstance.dispose():
							name: ${E.name}
							uuid: ${E.uuid}
							src: ${o.url}
					`),clearTimeout(T),E.alive=!1,S.onDispose.removeListener(E.dispose),S.isAlive&&await S.stop(),null==b||b.disconnectAll(),null==w||w.disconnectAll(),n.mutate((e=>e.delete(o.uuid))),0===n.getRaw().size&&(null===(t=null===(e=window.syrinscape)||void 0===e?void 0:e.visualisation)||void 0===t||t.stop()),E.onDispose.invoke()):at.warn(oe`
							sampleInstance.dispose(): Already dead! Can only dispose once!
								name: ${E.name}
								uuid: ${E.uuid}
								src: ${o.url}
						`)}};S.onDispose.addListener(E.dispose);const C=e=>{var t,r;if(at.debug(oe`
					startSample():
						name: ${E.name}
						uuid: ${E.uuid}
						src: ${o.url}
				`),h){let t=o.duration/1e3,n=h.position;const{velocity:r}=h;if(void 0!==e&&(n=he(n,ve(r,e)),t-=e),w.setPosition(n),w.setVelocity(r,t),void 0!==b){const e=j.config.audioContext.currentTime;((e,t,n,r,o,a=10)=>{const i=new Array(a);for(let e=0;e<a;e++){const r=he(t,ve(n,o*(e/(a-1))));i[e]=ye(r)}e.setValueCurveAtTime(i,r,o)})(b.node.positionZ,n,r,e,t)}}null===(r=null===(t=window.syrinscape)||void 0===t?void 0:t.visualisation)||void 0===r||r.start(),S.play(e),E.isPlaying=!0,n.update(),document.dispatchEvent(new CustomEvent("syrinscape.internalStartSample",{detail:o}))},D=g();return v<=D-5e3?(at.debug(oe`
					spawnSampleFromData(): Already in progress. Scrub ${B(D-v)} seconds.
						name: ${o.name}
						uuid: ${o.uuid}
				`),C(B(D-v))):v<=D?(at.debug(oe`
					spawnSampleFromData(): Start with no scrubbing.
						name: ${o.name}
						uuid: ${o.uuid}
				`),C()):(T=setTimeout(C,v-D),at.debug(oe`
					spawnSampleFromData(): Schedule start in ${B(v-D)} seconds.
						name: ${o.name}
						uuid: ${o.uuid}
						startHandle: ${T}
				`)),n.mutate((e=>e.set(o.uuid,E))),E}};return o})({audioSystem:e,uuidSystem:t,sampleMap:n}),o={map:n,getSamples:()=>n.getRaw(),...r,removeSample:e=>n.get().get(e).dispose(),stopSampleBySampleId:e=>n.mutate((t=>((e,t)=>[...e].filter((([e,n])=>n.sampleId===t)))(t,e).forEach((([,e])=>e.dispose())))),stopAllSamples:()=>Promise.all([...n.getRaw()].map((([e,t])=>t.dispose()))),createSocketSampleSnapshot:e=>({timestamp:g(),sampleInstance:{...Xe(e),startTime:g()},sampleMessage:e}),playSample:e=>o.spawnSampleFromParams({params:Xe(e)}),playSampleAtTime:(e,t)=>o.spawnSampleFromParams({params:Xe(e),startTime:t}),playSampleWithReverb:(e,t="Cave",n)=>o.spawnSampleFromParams({params:{...Xe(e),presetName:t},startTime:n}),stopSample:({id:e})=>o.stopSampleBySampleId(Number(e))};return o};Me.add("startElementSample"),Me.add("stopElement");const st=({authSystem:e,audioSystem:t,sampleSystem:n,uuidSystem:r})=>{r=r||ot(),n=n||it({audioSystem:t,uuidSystem:r});const o=rt(),i=(({elementMap:e})=>{const t=new Map;return{elementVolumeMap:t,setElementVolumeByUuuid:(t,n)=>e.mutate((e=>e.get(t).setVolume(n))),setElementIdVolume:(n,r)=>{t.get(n)!==r&&(t.set(n,r),Ke(e,n).forEach((([,e])=>e.setVolume(r))))}}})({elementMap:o}),s=(({audioSystem:e})=>{const{effectSystem:t}=e;let n=1;const r=a();return{onChange:r,setVolume:e=>{n=e,r.invoke(n)},createOneshotVolume:(e,o,a,i)=>{const s=we(),l=we();s.value=n,l.value=n,e.connect(s),o.connect(l),s.connect(i),a?(l.connect(a),a.connect(t.globalVolume)):l.connect(t.globalVolume);const u=e=>{s.fadeToValue(e),l.fadeToValue(e)};return r.addListener(u),()=>r.removeListener(u)}}})({audioSystem:t}),l=(({}={})=>{const e=new Map,t=t=>{if(e.has(t))return e.get(t);const n=[];return e.set(t,n),n},n={onPlayedSamplesChanged:a(),playedSamplesMap:e,createPlaylist:e=>{let{playedSamples:r}=e;const{elementId:o,playlistParams:a,type:i,randomSeed:s}=e,{sampleParamsList:l,order:u}=a;if(l.length<=1)return l;const c=void 0===s?Math.random:((e=1)=>(0===e&&(e=1),()=>{const t=1e4*Math.sin(e++);return t-Math.floor(t)}))(s);if("random"===u)return((e,t)=>{const n=new Array(12);for(let e=0;e<n.length;e++)n[e]=((e,t=Math.random)=>e[Math.floor(t()*e.length)])(l,c);return n})();if(null!=r||(r=t(o)),r.length>=l.length){const e=r[r.length-1];n.clearPlayedSamples(o),n.appendPlayedSamples(o,e)}let d=[...l];const f=r.length>0?r[r.length-1]:void 0;if("shuffle"===u)((e,t=Math.random)=>{for(let n=e.length-1;n>0;n--){const r=Math.floor(t()*(n+1)),o=e[n];e[n]=e[r],e[r]=o}})(d,c),d[0].sampleId===f&&d.push(d.shift());else if(f){const e=(d.indexOf(d.find((e=>e.sampleId===f)))+1)%d.length;d=((e,t)=>{const n=[];for(let r=0;r<e.length;r++){const o=(r+t)%e.length;n.push(e[o])}return n})(d,e)}return"oneshot"===i&&(d=d.filter((e=>!r.includes(e.sampleId))),d.splice(1),n.appendPlayedSamples(o,d[0].sampleId)),d},clearPlayedSamples:r=>{t(r).length=0,n.onPlayedSamplesChanged.invoke(e)},clearAllPlayedSamples:()=>{e.clear(),n.onPlayedSamplesChanged.invoke(e)},appendPlayedSamples:(r,o)=>{const a=t(r);a.includes(o)||a.push(o),n.onPlayedSamplesChanged.invoke(e)}};return n})(),u=(({authSystem:e,audioSystem:t,sampleSystem:n,uuidSystem:r,elementMap:o,playlistSystem:a,oneshotSystem:i,elementVolumeSystem:s})=>{const l=()=>{const e=g();o.getRaw().forEach((t=>{t.sampleFutureDataLookup.forEach((t=>{t.startTime<=e&&t.spawnSample()}))}))},{effectSystem:u}=t,c=async t=>{const n=await e.authorizedFetchPath("online/frontend-api/element-params-to-data/",{method:"POST",body:JSON.stringify(t)});if(200!==n.status)throw new Error(`bad response: ${n.status}`);return await n.json()};let d=!1,f=!1;const p={analyseElements:f,init:({analyse:e=!1,spawnMethod:t="setTimeout"}={})=>{Ze.info(`Analyse elements: ${e}`),f=e,Ze.info(`Sample spawn method: ${t}`),"setInterval"===t&&(d=!0,window.setInterval(l,1e3/60))},dataToRepeatParams:e=>{const t=e.playlistData.sampleDataList[e.playlistData.sampleDataList.length-1];let n=t.startTime;"end"===e.playlistParams.sampleDelayPos&&(n+=t.duration);const r=(({uuid:e,playlistData:t,...n})=>$e(n))(e);return r.playlistParams.firstSampleDelay=!0,r.playlistParams.useElementDelay=!1,r.playedSamples=e.playlistData.sampleDataList.map((e=>e.sampleId)),r.startTime=n,r},paramsToData:async e=>{(e=$e(e)).playlistParams.sampleParamsPlaylist=a.createPlaylist(e);const t=await c(e);let{startTime:n,playlistData:r}=t;if(void 0!==n){const e=r.sampleDataList[r.sampleDataList.length-1];e.startTime+e.duration-(g()-n)<0&&(console.warn("next start time cannot be earlier than playlist duration. consider reducing delay between samples"),n=void 0)}return null!=n||(n=g()),r.sampleDataList.forEach((e=>e.startTime+=n)),t},spawnElementFromParams:async e=>{const t=await p.paramsToData(e);return p.spawnElementFromData(t)},spawnElementFromData:(e,t=!1)=>{var r;const l=g(),c={...e,alive:!0};let m=0===j.player.elementSystem.getElementsWithElementId(c.elementId).length;f&&(c.analyser=M());let h=u.preset(e.presetName);void 0===h&&(Ze.warn(oe`
					Unknown effect spawning element, fallback to 'Off'.
					effect:
						name: ${e.presetName}
					element:
						title: ${c.title}
						id: ${c.elementId}
						uuid: ${c.uuid}
				`),h=u.preset("Off"));const y=we(),v=we();if(c.setVolume=e=>{y.fadeToValue(e),v.fadeToValue(e)},c.volume&&s.setElementIdVolume(c.elementId,c.volume),s.elementVolumeMap.has(c.elementId)){const e=s.elementVolumeMap.get(c.elementId);y.value=e,v.value=e}const b="Off"===e.presetName?we():u.effect(h.effect);let w;"oneshot"===e.type?w=i.createOneshotVolume(y,v,c.analyser,b):(y.connect(b),c.analyser?(v.connect(c.analyser),c.analyser.connect(u.globalVolume)):v.connect(u.globalVolume));const x=e.crossfade?{fadeIn:e.crossfade,fadeOut:e.crossfade}:void 0;let S;if(c.sampleInstanceLookup=new Map,c.sampleFutureDataLookup=new Map,c.playlistData.sampleDataList.forEach((r=>{(!S||r.startTime<S)&&(S=r.startTime),r.presetName=e.presetName;const o=()=>{if(t&&r.startTime<l){const e=(g()-r.startTime)/1e3;Ze.info(oe`
							spawn sample:
								scheduled samples: ${c.sampleFutureDataLookup.size}
								scrubbed seconds: ${e}
							sample:
								name: ${r.name}
								uuid: ${r.uuid},
							element:
								title: ${c.title}
								id: ${c.elementId}
								uuid: ${c.uuid}
						`)}else{et+=1;let e=(g()-r.startTime)/1e3;tt=function(e,t=0,n=0){if(!e||!e[Symbol.iterator])throw Error("must pass an iterable sequence");let r=t,o=n;for(let t of e)o+=1,r=r*((o-1)/o)+t/o;return r}([e],tt,et),nt=Math.max(e,nt),Ze.info(oe`
							spawn sample:
								scheduled samples: ${c.sampleFutureDataLookup.size}
								spawned samples: ${et}
								delay: ${e}
								avg delay: ${tt}
								max delay: ${nt}
							sample:
								name: ${r.name}
								uuid: ${r.uuid}
							element:
								title: ${c.title}
								id: ${c.elementId}
								uuid: ${c.uuid}
						`)}r.nextSampleStartWait=(()=>{let e;if("oneshot"===c.type)e=r.startTime+r.duration;else{let t=c.playlistData.sampleDataList.find((e=>e.startTime>r.startTime&&e.uuid!==r.uuid));e=t?t.startTime:void 0}return e})(),r.elementId=c.elementId,c.sampleFutureDataLookup.delete(r.uuid);const e=n.spawnSampleFromData({fadeOptions:x,data:r,wetOut:y,dryOut:v});e.audioSource.onPlay.addListener((()=>a.appendPlayedSamples(c.elementId,e.sampleId))),e.onDispose.addListener((()=>((e,t)=>{e.sampleInstanceLookup.delete(t),e.alive&&0===e.sampleInstanceLookup.size&&0===e.sampleFutureDataLookup.size&&(null==e||e.dispose())})(c,e.uuid))),c.sampleInstanceLookup.set(e.uuid,e)},i=r.startTime-1e4;i>l?(c.sampleFutureDataLookup.set(r.uuid,{...r,spawnSample:d?o:void 0,timeoutId:d?void 0:window.setTimeout(o,i-l)}),Ze.debug(oe`
						Delay spawning sample for ${(i-l)/1e3} seconds.
							scheduledSamples: ${c.sampleFutureDataLookup.size}
							spawnedSamples: ${et}
						sample:
							name: ${r.name}
							uuid: ${r.uuid}
						element:
							title: ${c.title}
							id: ${c.elementId}
							uuid: ${c.uuid}
					`)):o()})),Ze.debug(oe`
				spawnElementFromData():
					scheduled samples: ${c.sampleFutureDataLookup.size}
					spawned samples: ${c.sampleInstanceLookup.size}
				element:
					title: ${e.title}
					id: ${e.elementId}
					uuid: ${e.uuid}
			`),null===(r=c.playlistParams)||void 0===r?void 0:r.repeat){const e=c.playlistData.sampleDataList[0];c.sampleInstanceLookup.get(e.uuid).audioSource.onPlay.addListener((()=>(e=>{if(!e.alive)return;const t=p.dataToRepeatParams(e);p.spawnElementFromParams(t)})(c)))}return c.dispose=async()=>{if(!c.alive)return void Ze.warn(oe`
						element.dispose(): Already dead! Can only dispose once!
							title: ${c.title}
							id: ${c.elementId}
							uuid: ${c.uuid}
					`);Ze.debug(oe`
					element.dispose():
						title: ${c.title}
						id: ${c.elementId}
						uuid: ${c.uuid}
				`),c.alive=!1,null==w||w(),d||c.sampleFutureDataLookup.forEach((e=>window.clearTimeout(e.timeoutId))),c.sampleFutureDataLookup.clear(),await Promise.all([...c.sampleInstanceLookup].map((([,e])=>e.dispose())));const t=()=>{var n,r;(null===(n=c.analyser)||void 0===n?void 0:n.isActive)?(Ze.debug(oe`
							element.finallyDispose(): Visualisation still active. Delay.
								title: ${c.title}
								id: ${c.elementId}
								uuid: ${c.uuid}
						`),setTimeout(t,100)):(y.disconnectAll(),v.disconnectAll(),null===(r=c.analyser)||void 0===r||r.disconnectAll(),o.mutate((t=>t.delete(e.uuid))))};t()},o.mutate((t=>t.set(e.uuid,c))),m&&Me.dispatch("startElement",{elementId:c.elementId,firstSampleStartWait:Math.max(S-l,0)}),c},_elementParamsToDataSmartMode:e=>({...e,uuid:r.nextId(),playlistData:(0,Ye.elementParamsToPlaylistData)(e,r)}),_elementParamsToDataDumbMode:c};return p})({authSystem:e,audioSystem:t,sampleSystem:n,uuidSystem:r,elementMap:o,playlistSystem:l,oneshotSystem:s,elementVolumeSystem:i}),c={...u,...i,playlistSystem:l,oneshotSystem:s,getElements:()=>o.getRaw(),map:o,stopElementByUuid:e=>o.mutate((t=>t.get(e).dispose())),getElementsWithElementId:e=>Ke(o,e),getStopWait:e=>{let t,n=g();return c.getElementsWithElementId(e).forEach((([e,r])=>{let o=r.playlistData.sampleDataList.find((e=>e.startTime<=n&&e.startTime+e.duration>n));o&&(!t||o.startTime+o.duration<t)&&(t=o.startTime+o.duration)})),Math.min(Math.max(t-n,0),3e3)||0},stopElementByElementId:(e,t=!0)=>{Ke(o,e).forEach((([,e])=>e.dispose())),t&&Me.dispatch("stopElement",{elementId:e,stopWait:c.getStopWait(e)})},stopAllElements:()=>{let e=new Set;return Promise.all([...o.getRaw()].map((([,t])=>(e.has(t.elementId)||(e.add(t.elementId),Me.dispatch("stopElement",{elementId:t.elementId,stopWait:c.getStopWait(t.elementId)})),t.dispose()))))},setOneshotVolume:e=>s.setVolume(e),playElement:e=>c.spawnElementFromParams(Ge(e)),forEachElement:e=>o.get().forEach(e),createSocketElementSnapshot:async(e,t=3)=>{const n=Ge(e),r=await c.createParamsSnapshot(n,t);return{timestamp:g(),elementInstances:r,elementMessage:e}},createParamsSnapshot:async(e,t=3)=>{let n=await u.paramsToData(e);const r=[n];for(let e=0;e<t;e++){const e=u.dataToRepeatParams(n);n=await u.paramsToData(e),r.push(n)}return r}};return document.addEventListener("syrinscape.internalStartSample",(e=>{let t;const n=e.detail;if(!n.nextSampleStartWait){let e=g();c.getElementsWithElementId(n.elementId).forEach((([r,o])=>{let a=o.playlistData.sampleDataList.filter((t=>t.startTime>e&&t.uuid!==n.uuid))[0];a&&(!t||a.startTime<t)&&(t=a.startTime)})),n.nextSampleStartWait=t}Me.dispatch("startElementSample",{elementId:n.elementId,nextSampleStartWait:n.nextSampleStartWait,uuid:n.uuid})})),c},lt=b.getLogger("socketSystem"),ut=e=>({uuid:e.uuid,name:e.name,sampleId:e.id,volume:e.volume,startTime:1e3*e.start,duration:1e3*(e.end-e.start),spatializable:!!e.position,spatialData:e.position&&{position:ct(e.position),velocity:ct(e.velocity)},url:e.url}),ct=e=>({x:e[0],y:e[1],z:e[2]}),dt=b.getLogger("syncSystem");Me.add("playerActive"),Me.add("playerInactive");const ft=b.getLogger("player"),pt=(()=>{const e=Ae(),n=(({urlSystem:e,logLevel:t})=>{let n,r,o=0,i="Idle";const s=Le(a),l={get state(){return i},set state(e){i=e,l.onStateChange.invoke(i)},connect:async()=>new Promise(((t,a)=>{l.state="Connecting";const i=e.createUrlWs("ws-web-player/websocket");r=new WebSocket(i),r.onclose=()=>{l.state="Idle",o=Math.min(Math.max(2*o,500),6e4),o-=Math.min(Date.now()-n,o)||0,lt.warn(`Connection closed. Reconnect in ${B(o)} seconds.`),setTimeout(l.connect,o),n=void 0},r.onerror=e=>{a(),"Error"!==l.state&&(l.state="Error"),l.onError.invoke(e),r.close()},r.onmessage=e=>{"Active"!==l.state&&(l.state="Active");const t=JSON.parse(e.data);lt.debug("<<< Socket Message Received:",t),l.onMessage.invoke(t),l.onNamedMessage(t.message).invoke(t.params)},r.onopen=e=>{t(),n=Date.now(),l.send({message:"register",device_name:j.config.deviceName,session_id:j.config.sessionId,token:j.config.token})}})),onMessage:a(),onNamedMessage:s.getOrCreate,send:e=>{lt.debug(">>> Socket Message Sent:",e),r.send(JSON.stringify(e))},onError:a(),onStateChange:a()},u={ping:e=>l.send({message:"ping",params:e}),error:e=>lt.error(e.message),reconnect_to_new_backend:({subdomain:t,domain_and_port:n})=>{const[a,i]=n.split(":");j.config.wsHostname=`${t}.${a}`,i&&(j.config.wsPort=i),lt.info(se`
				Reconnect to new backend: ${e.createUrlWs("ws-web-player/websocket")}
			`),o=0,r.close()}};return Object.entries(u).forEach((([e,t])=>l.onNamedMessage(e).addListener(t))),l})({urlSystem:e}),r=function({urlSystem:e}={}){e=e||Ae();const t=(()=>{const e={};let t=null;const n={onFileChange:a(),init:async(e=!0)=>{e?await n.loadFile({timestamp:1644315184928.752,effects:[{name:"Analyser",type:"analyser",fftSize:256,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8,isDestination:!0},{name:"Compressor",type:"compressor",output:"Analyser",attack:.003,knee:30,ratio:12,release:.25,threshold:-24},{name:"Local Volume",type:"volume",output:"Compressor",volume:1,fadeDuration:1},{name:"Global Volume",type:"volume",output:"Local Volume",volume:1,fadeDuration:1},{name:"Long Reverb",type:"freeverb",output:"Global Volume",roomSize:.9,dampening:6e3,preDelay:.01,lpFrequency:2e3,hpFrequency:600,lpResonance:.5,hpResonance:.5,gain:.2},{name:"Wet Short",type:"send",output:"Stairwell",wetness:.75,dryOutput:"Global Volume"},{name:"Wet Long",type:"send",output:"Long Reverb",wetness:1,dryOutput:"Global Volume"},{name:"Dry Long",type:"send",output:"Concert Hall",wetness:.5,dryOutput:"Global Volume"},{name:"Dry Short",type:"send",output:"Concert Hall",wetness:.2,dryOutput:"Global Volume"},{name:"Wet Effect",type:"send",output:"Simple Delay",wetness:.7,dryOutput:"Global Volume"},{name:"Simple Delay",type:"delay",output:"Global Volume",falloff:.4,duration:.2},{name:"Soft furnished room ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/bf8b9jy0jhbnqft/Sweep%20samples_Soft%20furnished%20room_dc.wav?dl=0"},{name:"Cave",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/fmv48mbfvagf9gk/Room_capture_Cave_01_dc.wav?dl=0"},{name:"Through a heavy door ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/3iru4ke6t90t8o2/Sweep%20samples_Through%20a%20heavy%20door_dc.wav?dl=0"},{name:"Carpetted Hallway ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/f0zbljvpkl9iaba/Sweep%20samples_Carpetted%20Hallway_dc.wav?dl=0"},{name:"Plains ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/x9r8r4cyyuaja7d/Room_capture_Plain_09_dc.wav?dl=0"},{name:"Concert Hall",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/cz4rpyxx4dqdacp/Room_capture_Concert%20hall_03_dc.wav?dl=0"},{name:"Mountains ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/b8hgw5uimhb9efv/Room_capture_Mountains_07_dc.wav?dl=0"},{name:"Through a light door ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/opbkl2qp9foncm4/Sweep%20samples_Through%20a%20light%20door_dc.wav?dl=0"},{name:"City ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/fds6qyegx4dmcum/Room_capture_City_02_dc.wav?dl=0"},{name:"Vanilla room ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/51px3ofee71ob75/Sweep%20samples_Vanila%20room_dc.wav?dl=0"},{name:"Concert Hall ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/22vly35tb4e5nsp/Sweep%20samples_Concert%20Hall_dc.wav?dl=0"},{name:"Stone room ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/u3zxtfmav475pyu/Sweep%20samples_Stone%20room_dc.wav?dl=0"},{name:"Cave ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/ey33w5dnkdklz7d/Sweep%20samples_Cave_dc.wav?dl=0"},{name:"Stairwell",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/sjzu2078lg4bpwh/3000CStreetGarageStairwell.wav?dl=0"},{name:"Hallway ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/fkk8zxram928imu/Room_capture_Hallway_05_dc.wav?dl=0"},{name:"Parking lot ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/qpuxz6ujbgxumeu/Room_capture_Parking%20lot_08_dc.wav?dl=0"},{name:"Forest ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/qx6iuyxdj8ji3bh/oom_capture_Forest_04_dc.wav?dl=0"},{name:"Poisoned ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/vrlkoo9xnc294ao/Sweep%20samples_Poisoned_dc.wav?dl=0"},{name:"Padded Cell ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/oqrk3ied4b71yiy/Sweep%20samples_Padded%20Cell_dc.wav?dl=0"},{name:"Quarry ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/zw2hfyk7reichz9/Sweep%20samples_Quarry_dc.wav?dl=0"},{name:"Alley ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/0vz8w5byepxv8k4/Sweep%20samples_Alley2nd%20try_dc.wav?dl=0"},{name:"Sewer pipe ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/ltj5zfi1avlmovp/Room_capture_Sewer_10_dc.wav?dl=0"},{name:"Bathroom ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/x32s6651nwnyvbb/BathroomSweep-96000-24-M-10.0s_dc.zwav.wav?dl=0"},{name:"Underwater ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/wqd1hhrscm717s2/Room_capture_Underwater_12_dc.wav?dl=0"},{name:"Auditorium ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/5oqio2hvvag7sou/Sweep%20samples_Auditorium_dc.wav?dl=0"},{name:"Stone Dungeon ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/vrhznwahzoc2sno/Room_capture_Stone%20Dungeon_11_dc.wav?dl=0"},{name:"Arena ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/ov18hhpdpe98yyr/Sweep%20samples_Arena_dc.wav?dl=0"},{name:"Stone Corridor ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/c8ky9offetjl7ld/Sweep%20samples_Stone%20corridor_dc.wav?dl=0"},{name:"Metal Room ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/8df9jkybo5j5j8t/Room_capture_Metal%20room_06_dc.wav?dl=0"},{name:"Flooded Cavern ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/q5k8hfimlka8u3m/Sweep%20samples_Flooded%20Cavern_dc.wav?dl=0"},{name:"Hanger ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/cafxgkmm38nq9n3/Sweep%20samples_Hanger_dc.wav?dl=0"},{name:"Crazed ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/32i3gbl2ac5ixra/Sweep%20samples_Crazed_dc.wav?dl=0"},{name:"Dazed ss",type:"convolver",output:"Global Volume",url:"https://dl.dropboxusercontent.com/s/f4betvklj5uk6e8/Sweep%20samples_Dazed_dc.wav?dl=0"}],presets:{Default:{isFixed:!0,name:"Default",effect:"Global Volume",wetGain:1,dryGain:1,wetSpatializer:{name:"My spatial effect 1",type:"spatial",output:"Global Volume",position:{x:0,y:0,z:0},speed:0,panningModel:"HRTF",distanceModel:"exponential",minDistance:1,maxDistance:100,rolloff:.4},drySpatializer:{name:"My spatial effect 2",type:"spatial",output:"Global Volume",position:{x:0,y:0,z:0},speed:0,panningModel:"HRTF",distanceModel:"exponential",minDistance:1,maxDistance:100,rolloff:1}},"Stone Corridor":{name:"Stone Corridor",effect:"Stone Corridor ss",wetGain:.3,dryGain:1},Hallway:{name:"Hallway",effect:"Hallway ss"},Alley:{name:"Alley",effect:"Alley ss",wetSpatializer:{name:"Wet Spatializer",type:"spatial",output:"Global Volume",position:{x:0,y:0,z:0},speed:0,panningModel:"HRTF",distanceModel:"exponential",minDistance:1,maxDistance:50,rolloff:.5},drySpatializer:{name:"Wet Spatializer",type:"spatial",output:"Global Volume",position:{x:0,y:0,z:0},speed:0,panningModel:"HRTF",distanceModel:"exponential",minDistance:1,maxDistance:30,rolloff:1},dryGain:2},"Sewer pipe":{name:"Sewer pipe",effect:"Sewer pipe ss"},"Stone Dungeon":{name:"Stone Dungeon",effect:"Stone Dungeon ss"},Bathroom:{name:"Bathroom",effect:"Bathroom ss"},"Metal Room":{name:"Metal Room",effect:"Metal Room ss"},"Stone room":{name:"Stone room",effect:"Stone room ss",wetGain:.4,dryGain:1},Cave:{name:"Cave",effect:"Cave"},"Flooded Cavern":{name:"Flooded Cavern",effect:"Flooded Cavern ss",wetGain:.5,dryGain:1},Arena:{name:"Arena",effect:"Arena ss",wetSpatializer:{name:"Wet Spatializer",type:"spatial",output:"Global Volume",position:{x:0,y:0,z:0},speed:0,panningModel:"HRTF",distanceModel:"exponential",minDistance:1,maxDistance:100,rolloff:.4},drySpatializer:{name:"Wet Spatializer",type:"spatial",output:"Global Volume",position:{x:0,y:0,z:0},speed:0,panningModel:"HRTF",distanceModel:"exponential",minDistance:1,maxDistance:100,rolloff:1},wetGain:.1,dryGain:1},Quarry:{name:"Quarry",effect:"Quarry ss"},City:{name:"City",effect:"City ss"},"Parking lot":{name:"Parking lot",effect:"Parking lot ss",wetGain:.3,dryGain:1},Hangar:{name:"Hangar",effect:"Hanger ss",wetGain:.15,dryGain:1,wetSpatializer:{name:"Wet Spatializer",type:"spatial",output:"Global Volume",position:{x:0,y:0,z:0},speed:0,panningModel:"HRTF",distanceModel:"exponential",minDistance:1,maxDistance:100,rolloff:.8}},"Carpetted Hallway":{name:"Carpetted Hallway",effect:"Carpetted Hallway ss",wetGain:.4,dryGain:1},"Padded Cell":{name:"Padded Cell",effect:"Padded Cell ss",wetGain:.2,dryGain:1},"Vanilla room":{name:"Vanilla room",effect:"Vanilla room ss",wetGain:.5,dryGain:1},"Soft furnished room":{name:"Soft furnished room",effect:"Soft furnished room ss"},"Through a heavy door":{name:"Through a heavy door",effect:"Through a heavy door ss",wetGain:.5,dryGain:0,wetSpatializer:{name:"Wet Spatializer",type:"spatial",output:"Global Volume",position:{x:0,y:0,z:0},speed:0,panningModel:"HRTF",distanceModel:"exponential",minDistance:1,maxDistance:100,rolloff:.7}},"Through a light door":{name:"Through a light door",effect:"Through a light door ss",wetGain:.1,dryGain:.1,wetSpatializer:{name:"Wet Spatializer",type:"spatial",output:"Global Volume",position:{x:0,y:0,z:0},speed:0,panningModel:"HRTF",distanceModel:"inverse",minDistance:1,maxDistance:100,rolloff:.7}},Plain:{name:"Plain",effect:"Plains ss"},Mountains:{name:"Mountains",effect:"Mountains ss",wetSpatializer:{name:"Wet Spatializer",type:"spatial",output:"Global Volume",position:{x:0,y:0,z:0},speed:0,panningModel:"HRTF",distanceModel:"exponential",minDistance:1,maxDistance:100,rolloff:.8}},Forest:{name:"Forest",effect:"Forest ss"},"Concert Hall":{name:"Concert Hall",effect:"Concert Hall ss",wetGain:.5,dryGain:1},Auditorium:{name:"Auditorium",effect:"Auditorium ss",wetGain:.1,dryGain:1},Crazed:{name:"Crazed",effect:"Crazed ss",wetGain:.3,dryGain:1},Dazed:{name:"Dazed",effect:"Dazed ss",wetGain:.1,dryGain:1},Poisoned:{name:"Poisoned",effect:"Poisoned ss",wetGain:.5,dryGain:1,wetSpatializer:{name:"Wet Spatializer",type:"spatial",output:"Global Volume",position:{x:0,y:0,z:0},speed:0,panningModel:"HRTF",distanceModel:"exponential",minDistance:1,maxDistance:100,rolloff:.5}},Underwater:{name:"Underwater",effect:"Underwater ss",wetGain:.3,dryGain:1},Off:{name:"Off",effect:"Global Volume"}}}):await n.loadFileFromUrl("https://dl.dropboxusercontent.com/s/3uzwlcr5ws12gau/SyrinscapeEffects%20-%20Returning%20to%20testing%20in%20Feb%202022%20-%20Ready%20to%20replace%20on%20server.json?dl=0")},loadFile:async e=>{t=e,await n.rebuildAllEffects(t.effects)},loadFileFromUrl:async e=>{const t=await fetch(e),r=await t.json();await n.loadFile(r)},get analyser(){return e.Analyser},get defaultPreset(){return t.presets.Default},get globalVolume(){return e["Global Volume"]},get localVolume(){return e["Local Volume"]},preset:e=>t.presets[e],effect:t=>e[t],updatePreset:e=>{t.presets[e.name]=e,n.updateFile()},rebuildAllEffects:async e=>{n.disconnectAll(),await Promise.all(e.map(n.buildEffect)),n.reconnectAll()},buildEffect:async t=>{var n;null===(n=e[t.name])||void 0===n||n.disconnectAll();const r=await ke[t.type](t);e[t.name]=r},buildEffectAndReconnectAll:async e=>{await n.buildEffect(e),n.reconnectAll()},connectEffect:t=>{var n;if(t.params.output){if(!e[t.params.output])throw new Error(`Audio effect not found: ${t.params.output}`);t.connect(e[t.params.output]),null===(n=t.connectFromMap)||void 0===n||n.call(t,e)}else t.output.connect(j.config.audioContext.destination)},reconnectAll:()=>{Object.values(e).forEach(n.connectEffect),n.updateFile()},trySetParam:(n,r,o)=>{var a;return!!(null===(a=e[n])||void 0===a?void 0:a.setParam[r])&&(e[n].setParam[r](o),t=((e,t,n,r)=>{const o={...e,effects:[...e.effects]},a=o.effects.find((e=>e.name===t)),i=o.effects.indexOf(a);return o.effects[i]={...a,[n]:r},o})(t,n,r,o),t.timestamp=g(),!0)},updateFile:()=>{t.effects=Object.values(e).map((e=>e.params)),t.timestamp=g(),n.onFileChange.invoke(t)},disconnectAll:()=>{Object.keys(e).forEach(n.disposeEffect)},disposeEffect:t=>{e[t].disconnectAll(),delete e[t]},disposeEffectAndReconnectAll:e=>{n.disposeEffect(e),n.reconnectAll()}};return n})(),n=(({effectSystem:e})=>{const t=[],n=new WeakMap;return{createAudioSource:(r,o=e.globalVolume,{fadeIn:i,fadeOut:s,fadeScrub:l,fadeStop:u}={},c)=>{let d;if(null!=i||(i=.03),null!=s||(s=.03),null!=l||(l=3),null!=u||(u=3),isFinite(c)||(c=1),t.length){d=t.shift();let e=0;for(;d.ended&&e<t.length;)e+=1,t.push(d),d=t.shift()}else d=new Audio,d.autoplay=!1,d.crossOrigin="anonymous",n.set(d,j.config.audioContext.createMediaElementSource(d));const f=we();let p=!0;const m=a(),h=a();let y;const v=()=>y&&clearTimeout(y),g=(e=>{let t=!1,n=!1,r=0;return{...e,handleReady:()=>{t=!0,n&&e.play(r)},play:o=>{n=!0,r=o,t&&e.play(o)}}})({isAlive:p,onPlay:m,onDispose:h,play:async(e=0)=>{const t=await de.getBlob(r);d.src=URL.createObjectURL(t),d.currentTime=e,f.value=0,d.addEventListener("ended",w),await d.play(),m.invoke(),y=setTimeout((async()=>await f.fadeToValue(0,s,"easeIn")),1e3*(d.duration-s)),e?await f.fadeToValue(c,l,"easeIn"):await f.fadeToValue(c,i,"easeIn")},stop:async()=>{p?(Ie.debug(oe`
						audioSource.stop():
							fadeStop: ${u}
							el.src: ${d.src}
							src: ${r}
					`),v(),await f.fadeToValue(0,u),await b()):Ie.warn(oe`
							audioSource.stop(): Already dead! Cannot stop when dead! This is probably a bug.
								el.src: ${d.src}
								src: ${r}
						`)}}),b=async()=>{p?(Ie.debug(oe`
					audioSource.dispose():
						el.src: ${d.src}
						src: ${r}
				`),p=!1,v(),await me(1e3),f.disconnectAll(),n.get(d).disconnect(),d.currentTime=0,d.pause(),URL.revokeObjectURL(d.src),d.removeEventListener("ended",w),t.push(d),h.invoke()):Ie.warn(oe`
						audioSource.dispose(): Already dead! Can only dispose once!
							el.src: ${d.src}
							src: ${r}
					`)},w=()=>{p?b():Ie.warn(oe`
						audioSource.handleEnded(): Already dead! Can only handle ended once!
							el.src: ${d.src}
							src: ${r}
					`)};return(async()=>{n.get(d).connect(f.input),f.connect(o),g.handleReady()})(),g}}})({effectSystem:t}),r={effectSystem:t,effect:t.effect,onGlobalVolume:a(),init:async(e=!0)=>{await t.init(e)},setGlobalVolume:e=>{Oe.info(`Set global volume: ${e}`),t.globalVolume.fadeToValue(e),r.onGlobalVolume.invoke(e)},setLocalVolume:e=>{Oe.info(`Set local volume: ${e}`),j.config.localVolume=e,t.localVolume.fadeToValue(e),Me.dispatch("setLocalVolume",e)},createAudioSource:(t,r,o,a)=>(t=e.replaceLocalDomainAndPort(t),n.createAudioSource(t,r,o,a))};return r}({urlSystem:e}),o=r.effectSystem,i=function({urlSystem:e}={}){e=e||Ae();const t={authorizedFetchUrl:async(e,t={},n=!0)=>{t.headers={...t.headers,Authorization:`Token ${j.config.token}`};const r=await fetch(e,t);return n&&function(e){if(e.status>=400)throw new Fe(e.status)}(r),r},authorizedFetchBlob:async(e,n={},r=!0)=>{const o=await t.authorizedFetchUrl(e,n,r);return await o.blob()},authorizedFetchPath:async(n,r={})=>{const o=e.createUrlHttp(n);return t.authorizedFetchUrl(o,r)}};return t}({urlSystem:e}),s=(({authSystem:e,socketSystem:t})=>{const n=()=>{t.send({message:"send_full"})},r=e=>{t.send({message:"set_global_volume",params:{volume:e}})},o=e=>{t.send({message:"set_oneshot_volume",params:{volume:e}})},a=async t=>(t.length>1&&qe.warn(se`
				startElements(): Starting ${t.length} elements. This makes a new request for
				each element. Consider refactoring.
			`),await Promise.all(t.map((t=>{e.authorizedFetchPath(`online/frontend-api/elements/${t}/play/`)})))),i=async t=>await e.authorizedFetchPath(`online/frontend-api/moods/${t}/play/`),s=async()=>await e.authorizedFetchPath("online/frontend-api/stop-all/"),l=async t=>(t.length>1&&qe.warn(se`
				stopElements(): Stopping ${t.length} elements. This makes a new request for
				each element. Consider refactoring.
			`),await Promise.all(t.map((t=>{e.authorizedFetchPath(`online/frontend-api/elements/${t}/stop/`)})))),u=async t=>await e.authorizedFetchPath(`online/frontend-api/moods/${t}/stop/`);return je.onMessage("syrinscape.sendFull").addListener((e=>n())),je.onMessage("syrinscape.setGlobalVolume").addListener((e=>r(e.params.volume))),je.onMessage("syrinscape.setOneshotVolume").addListener((e=>o(e.params.number))),je.onMessage("syrinscape.startElements").addListener((e=>a(e.params.pks))),je.onMessage("syrinscape.startMood").addListener((e=>i(e.params.pk))),je.onMessage("syrinscape.stopAll").addListener((e=>s())),je.onMessage("syrinscape.stopElements").addListener((e=>l(e.params.pks))),je.onMessage("syrinscape.stopMood").addListener((e=>u(e.params.pk))),{sendFull:n,setGlobalVolume:r,setOneshotVolume:o,startElements:a,startMood:i,stopAll:s,stopElements:l,stopMood:u}})({authSystem:i,socketSystem:n}),l=ot(),u=it({audioSystem:r,uuidSystem:l}),c=st({authSystem:i,audioSystem:r,sampleSystem:u,uuidSystem:l}),d=(({elementSystem:e,sampleSystem:t,socketSystem:n,audioSystem:r})=>{const o={onChangeMood:a(),onChangeSoundset:a()},i=e=>{(e=>{h=Date.now()-e})(1e3*e);const t=B(y());t>0?dt.info(`Local time is ahead of server time by ${t} seconds.`):t<0&&dt.info(`Local time is behind of server time by ${-t} seconds.`)};n.onNamedMessage("registered").addListener((e=>{j.config.deviceName=e.device_name,j.config.sessionId=e.session_id,j.config.token=e.token}));const s=e=>{0===y()&&i(e.timestamp),u(e,!0)};n.onNamedMessage("send_full").addListener(s),n.onNamedMessage("send_full_element").addListener((t=>{0===y()&&i(t.timestamp),Object.entries(t.elements).forEach((([t,n])=>{e.stopElementByElementId(parseInt(t),!1)})),l(t)}));const l=e=>{u(e,!1)};n.onNamedMessage("send_partial").addListener(l);const u=(t,n)=>{const a=t.elements,i=f();n&&d(a,i),c(a,i,n),t.global_volume&&r.setGlobalVolume(t.global_volume),t.oneshot_volume&&e.setOneshotVolume(t.oneshot_volume),t.soundset_title&&(dt.info(oe`
				Current soundset:
					title: ${t.soundset_title}
					id: ${t.soundset_pk}
			`),o.onChangeSoundset.invoke({artwork:t.soundset_artwork,title:t.soundset_title,pk:t.soundset_pk})),t.mood_title&&(dt.info(oe`
				Current mood:
					title: ${t.mood_title}
					id: ${t.mood_pk}
			`),o.onChangeMood.invoke({title:t.mood_title,pk:t.mood_pk}));let s=0,l=0;e.forEachElement((e=>{s+=e.sampleInstanceLookup.size,l+=e.sampleFutureDataLookup.size})),dt.debug(oe`
			handleCommonState():
				active samples: ${s}
				scheduled samples: ${l}
		`)},c=(t,n,r)=>((e={})=>Object.entries(e).flatMap((([e,t])=>Object.entries(t.chunks||{}).map((([n,r])=>({uuid:n,crossfade:t.crossfade,volume:t.volume,elementId:Number(e),type:t.type,title:t.title,playlistData:{sampleDataList:r.map(ut)},presetName:t.reverb}))))))(t).filter((({uuid:e})=>{const r=n.some((t=>t.uuid===e));return r&&dt.error(oe`
						handlePlayElements(): Element is already playing. This is probably a bug!
							uuid: ${e}
						`,"newElements:",t,"playingElements:",n),!r})).forEach((t=>e.spawnElementFromData(t,r))),d=(t,n)=>n.filter((e=>!((e={})=>Object.values(e).flatMap((e=>Object.keys(e.chunks))))(t).some((t=>t===e.uuid)))).forEach((({uuid:t})=>e.stopElementByUuid(t)));n.onNamedMessage("stop_elements").addListener((({pks:t})=>{t.forEach((t=>e.stopElementByElementId(t)))})),n.onNamedMessage("stop_all").addListener((()=>{e.stopAllElements(),t.stopAllSamples()})),n.onNamedMessage("set_global_volume").addListener((({volume:e})=>{r.setGlobalVolume(e)})),n.onNamedMessage("set_oneshot_volume").addListener((({volume:t})=>{e.setOneshotVolume(t)})),n.onNamedMessage("set_element_volume").addListener((({pk:t,volume:n})=>{e.setElementIdVolume(t,n)}));const f=()=>[...e.getElements().values()];return{events:o,handleFullState:s,handlePartialState:l}})({audioSystem:r,elementSystem:c,sampleSystem:u,socketSystem:n});return{postMessageSystem:je,urlSystem:e,socketSystem:n,audioSystem:r,audioEffectSystem:o,controlSystem:s,sampleSystem:u,elementSystem:c,syncSystem:d,init:async({configure:e,context:o="default",initialConfig:a={},onActive:i,onInactive:s,selector:l="body"}={})=>{let u=[];await j.config.init(o,a),"function"==typeof e&&e();const c=async()=>{var e;await(async()=>{await r.init(),await n.connect()})(),ft.info("Player is active."),null===(e=j.visualisation)||void 0===e||e.init()};if("suspended"!==j.config.audioContext.state)await c(),"function"==typeof i&&(i(),Me.dispatch("playerActive"));else{let e=!0;ft.warn("Player is inactive."),"function"==typeof s&&(s(),Me.dispatch("playerInactive"));const n=async t=>{t.button&&0!==t.button||(u.push(t.target),t.preventDefault(),e&&(e=!1,await j.config.audioContext.resume(),await c(),r(),"function"==typeof i&&(i(),Me.dispatch("playerActive"))))},r=()=>{t()(document).off("click",l,n),setTimeout((()=>{for(;u.length>0;){let e=u.pop();ft.info("Executing deferred click for",e),t()(e).trigger("click")}}),0)};t()(document).on("click",l,n)}}}})();Object.assign(j,{player:pt})})()})();
//# sourceMappingURL=headlessPlayer.e8c93ef681d700cdb560.js.map